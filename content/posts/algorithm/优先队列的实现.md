---
title: 'ä¼˜å…ˆé˜Ÿåˆ—çš„å®žçŽ°'
date: 2022-09-23T14:43:36+08:00
tags: [algorithm]
---

JavaScript ä¸­æ²¡æœ‰å†…ç½®ä¼˜å…ˆé˜Ÿåˆ—è¿™ä¸ªæ•°æ®ç»“æž„ï¼Œéœ€è¦è‡ªå·±æ¥å®žçŽ°ä¸€ä¸‹~ðŸ‘»

ç²¾é«“ä¹‹ä¸€ï¼š**æ•°ç»„çš„ç¬¬ä¸€ä¸ªç´¢å¼• 0 ç©ºç€ä¸ç”¨**
ç²¾é«“ä¹‹äºŒï¼šæ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ çš„æ—¶å€™ï¼Œå…ƒç´ ä¼šè‡ªåŠ¨æŽ’åº

```JavaScript
class PriorityQueue {
  constructor(data, cmp) {
    this.data = [null, ...data] // æ–¹ä¾¿èŽ·å–çˆ¶èŠ‚ç‚¹å’Œå·¦å­èŠ‚ç‚¹
    this.cmp = cmp
    for(let i = data.length >> 1; i >= 0; --i) this.down(i) // éžæœ€åŽä¸€å±‚èŠ‚ç‚¹ä¸‹æ²‰
  }
  get size() {
    return this.data.length - 1
  }
  push(val){
    this.up(this.data.push(val) - 1)
  }
  pop() {
    // äº¤æ¢åˆ°å°¾éƒ¨ï¼Œå†æŠ›å‡ºï¼Œå†å¯¹å †é¡¶ä¸‹æ²‰
    this.swap(1, this.size)
    const res = this.data.pop()
    this.down(1)
    return res
  }
  up(i) {
    if(i === 1) return
    const p = i >> 1
    if(this.cmp(this.data[i], this.data[p])) {
      this.swap(i, p)
      this.up(p)
    }
  }
  down(i) {
    if(i === this.size) return
    const temp = i
    let left = i << 1
    let right = left + 1
    if(left <= this.size && this.cmp(this.data[left], this.data[i])) i = left
    if(right <= this.szie && this.cmp(this.data[right], this.data[i])) i = right
    if(i !== temp) {
      this.swap(i, temp)
      this.down(i)
    }
  }
  swap(i, j) {
    const temp = this.data[i]
    this.data[i] = this.data[j]
    this.data[j] = temp
  }
}
```

åœºæ™¯ï¼š

- åˆå¹¶ K ä¸ªæœ‰åºé“¾è¡¨
- å †æŽ’åºæœ‰ä¸€ç‚¹å…¶ä¸­çš„æ€æƒ³
