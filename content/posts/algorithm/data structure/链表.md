---
title: 'é“¾è¡¨'
date: 2024-01-09T20:10:19+08:00
lastmod:
tags: []
series: []
categories: []
---

## é“¾è¡¨

```java
class Node<V> {
  V value;
  Node next;
}
class Node<V> {
  V value;
  Node next;
  Node last;
}
```

> å¯¹äºé“¾è¡¨ç®—æ³•ï¼Œåœ¨é¢è¯•ä¸­ï¼Œä¸€å®šå°½é‡ç”¨åˆ°ç©ºé—´å¤æ‚åº¦æœ€å°çš„æ–¹æ³•ï¼ˆä¸ç„¶å‡­å•¥ç”¨å’±æ˜¯å§ ğŸ¶ï¼‰ã€‚

### é“¾è¡¨æ¢å¤´

å½“é“¾è¡¨çš„æ“ä½œä¼šäº§ç”Ÿæ¢å¤´çš„æƒ…å†µæ—¶ï¼Œå‡½æ•°çš„é€’å½’è°ƒç”¨å½¢å¼åº”è¯¥æ˜¯ `head = func(head.next)`ï¼Œæ‰€ä»¥å‡½æ•°åœ¨è®¾è®¡çš„æ—¶å€™å°±åº”è¯¥æœ‰ä¸€ä¸ª Node ç±»å‹çš„è¿”å›å€¼ï¼Œæ¯”å¦‚åè½¬é“¾è¡¨ï¼Œè§ä¸‹æ–¹ã€‚

### é“¾è¡¨å“¨å…µå®ˆå«

é€šè¿‡åœ¨é“¾è¡¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ï¼ˆdummy nodeï¼‰ï¼Œè¿™æ ·å°±æ— éœ€ç‰¹æ®Šå¤„ç†**å¤´èŠ‚ç‚¹ä¸ºç©º**æˆ–è€…**å¤´èŠ‚ç‚¹å˜åŒ–**çš„è¾¹ç•Œæ¡ä»¶ã€‚

æ¯”å¦‚é“¾è¡¨å»å¤´åŠ å°¾æ“ä½œï¼š

```java
/* ---------- å¤´éƒ¨åˆ  ---------- */
public void delHead() {
  ListNode p = head;
  /**
   *  æ²¡æœ‰å®ˆå«æ—¶ï¼Œåˆ é™¤å¤´èŠ‚ç‚¹çš„æ“ä½œæ˜¯ p = p.next
   *  if (p != null) {
   *     p = p.next;
   *  }
   *  è€Œåˆ é™¤å…¶ä»–çš„èŠ‚ç‚¹çš„æ“ä½œæ˜¯ p.next = p.next.nextï¼Œ
   *  æ‰€ä»¥å°±éœ€è¦åˆ†åˆ«è®¨è®ºåˆ é™¤headå’Œå…¶å®ƒèŠ‚ç‚¹çš„æƒ…å†µ
   *
   *  æ°æ°å› ä¸ºæœ‰ dummy å®ˆå«èŠ‚ç‚¹çš„å­˜åœ¨ï¼Œæ— è®ºå¤´èŠ‚ç‚¹è¿˜æ˜¯å…¶ä»–èŠ‚ç‚¹éƒ½ç»Ÿä¸€ä½¿ç”¨ p.next = p.next.next
   *  if (p.next != null) {
   *    p.next = p.next.next;
   *  }
   *  å°±ç®€åŒ–äº†è¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­
   */
}
```

å†æ¯”å¦‚ï¼Œéœ€è¦åˆ›å»ºä¸€æ¡æ–°é“¾è¡¨ï¼Œè§ä¸‹æ–¹åˆ†ç¦»é“¾è¡¨çš„æ“ä½œã€‚

<!-- public void deleteAtIndex(int index) {
    ListNode p = head;
    for (int i = 0; i < index; i++) {
        p = p.next;
        if (p == null) {
            return; // è¶…å‡ºé“¾è¡¨é•¿åº¦
        }
    }
    if (p.next != null) {
        p.next = p.next.next;
    }
}
public void deleteAtIndex(int index) {
    if (index < 0 || head == null) {
        return;
    }
    if (index == 0) {
        head = head.next;
        return;
    }

    ListNode p = head;
    for (int i = 0; i < index - 1; i++) {
        p = p.next;
        if (p == null) {
            return; // è¶…å‡ºé“¾è¡¨é•¿åº¦
        }
    }
    if (p.next != null) {
        p.next = p.next.next;
    }
} -->

```java
/* ---------- å°¾éƒ¨å¢ ---------- */
public void addTrail(ListNode node) {
  /**
   * å½“ head ä¸º null æ—¶ï¼Œåœ¨å°¾éƒ¨æ·»åŠ nodeå°±éœ€è¦å¤„ç†headä¸ºnullçš„è¾¹ç•Œæ¡ä»¶
   *  if (head == null) {
   *        head = node;
   *        return;
   *    }
   */
  // å½“ head = dummy (new ListNode(-1)) æ—¶ï¼Œå°±ä¸éœ€è¦ä¸Šé¢çš„è¾¹ç•Œæ¡ä»¶å¤„ç†äº†
  ListNode p = head;
  while (p.next != null) {
      p = p.next;
  }
  p.next = node;
}
```

### é“¾è¡¨ä¸­å¸¸ç”¨çš„æŠ€å·§-å¿«æ…¢æŒ‡é’ˆ

#### æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ã€ä¸­ç‚¹å‰ä¸€ä¸ªã€ä¸­ç‚¹åä¸€ä¸ª

è¿™ä¸ªæ˜¯ç¡¬ç¼–ç èƒ½åŠ›ï¼Œéœ€è¦å¤§é‡ç»ƒä¹ æ‰“å¥½åŸºæœ¬åŠŸã€‚

```java
/**
 * å¥‡æ•°çš„ä¸­ç‚¹ & å¶æ•°çš„ä¸­ç‚¹é å‰ä¸€ä½
 */
Node s = head;
Node f = head;
while (f.next != null && f.next.next != null) {
    s = s.next;
    f = f.next.next;
}

/**
 * å¥‡æ•°çš„ä¸­ç‚¹ & å¶æ•°çš„ä¸­ç‚¹é åä¸€ä½
 */
while (f != null && f.next != null) {
    s = s.next;
    f = f.next.next;
}
```

å¦‚æœè¦è¿›ä¸€æ­¥ç»§ç»­åç§»ï¼Œä¿®æ”¹ f æˆ– s çš„åˆå§‹èŠ‚ç‚¹å³å¯ã€‚

æ³¨æ„ï¼šå› ä¸º f ä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ‰€ä»¥ï¼š

- æƒ³è¦è·å–ä¸­ç‚¹å¾€å‰çš„èŠ‚ç‚¹ï¼Œä¿®æ”¹ f åˆå§‹èŠ‚ç‚¹æ—¶ f=head.next.nextï¼Œä¸¤ä¸ª next æ‰ä¼šè®©ç»“æœå¾€å‰åç§»ä¸€æ­¥
- æƒ³è¦è·å–ä¸­ç‚¹å¾€åçš„èŠ‚ç‚¹ï¼Œä¿®æ”¹ s çš„åˆå§‹èŠ‚ç‚¹ s=head.nextï¼Œä¸€ä¸ª next å°±å¯ä»¥è®©ç»“æœå¾€ååç§»ä¸€æ­¥

### ç»ƒä¹ 

#### lc.83 easy åˆ é™¤é“¾è¡¨çš„é‡å¤å…ƒç´ 

```js
/**
 * @param {ListNode} head
 * @return {ListNode}
 */
var deleteDuplicates = function (head) {
  if (!head) return null
  let left = head,
    right = head
  while (right) {
    if (right.val !== left.val) {
      left.next = right
      left = left.next
    }
    right = right.next
  }
  left.next = null
  return head
}

var deleteDuplicates = function (head) {
  if (!head) return null
  let left = head,
    right = head
  while (right) {
    if (right.val !== left.val) {
      left = right
    } else {
      left.next = right.next
    }
    right = right.next
  }
  return head
}
```

#### åè½¬é“¾è¡¨ï¼ˆrecursion&iteration ä¸¤ç§æ–¹å¼ï¼‰(lc.206)

```java
// è¿­ä»£æ³•ï¼Œé‚£å°±æ˜¯åŒæŒ‡é’ˆäº†ï¼Œå…ˆå­˜å‚¨åç»§èŠ‚ç‚¹ï¼Œå‰©ä¸‹çš„éƒ½å¥½åŠ
public ListNode reverseList(ListNode head) {
    ListNode p = head, pre = null;
    while(p != null) {
        ListNode next = p.next; // å‚¨å­˜åç»§èŠ‚ç‚¹
        p.next = pre;
        pre = p;
        p = next;
    }
    return  pre;
}
// é€’å½’æ³•
public ListNode reverseList(ListNode head) {
  if (head == null || head.next == null) return head;
  ListNode newHead = reverseList(head.next); // newHead æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹
  // ååºéå†ï¼Œå‡è®¾é€’å½’åˆ°æœ€åäº†ï¼Œæ­¤æ—¶çš„ head æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
  head.next.next = head; // æŠŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘è‡ªèº«
  head.next = null; // æŠŠè‡ªèº«çš„nextæŒ‡å‘null
  return newHead; // è¿”å›å°¾éƒ¨èŠ‚ç‚¹çš„å¼•ç”¨æŒ‡é’ˆå³å¯
}
```

#### åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æ˜¯å›æ–‡ç»“æ„ï¼ˆlc.234ï¼‰

```java
/**
* è¿™é“é¢˜è§£æ³•å¾ˆå¤šï¼Œå¦‚æœå€ŸåŠ©ä¸€ä¸ªé¢å¤–çš„æ ˆå°±å¾ˆç®€å•ï¼Œ
  * ä½†æ˜¯é¢è¯•ä¸­é“¾è¡¨ä¸€å®šè¦æ‰¾åˆ°é¢å¤–ç©ºé—´å¤æ‚åº¦æœ€ä½³çš„æ–¹æ³•ã€‚
  * è¦æ±‚æ—¶é—´å¤æ‚åº¦ O(n), ç©ºé—´å¤æ‚åº¦ O(1)
  */
class Solution {
  public boolean isPalindrome(ListNode head) {
    // è¦æƒ³ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼ŒæŠŠååŠéƒ¨åˆ†é“¾è¡¨åè½¬è¿‡æ¥ï¼Œç„¶åæ¯”è¾ƒå³å¯
    ListNode s = head, f = head;
    while(f != null && f.next != null) {
        s = s.next;
        f = f.next.next;
    }
    // æ­¤æ—¶ s åœ¨ä¸­ç‚¹æˆ–è€…ä¸­ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹ååŠéƒ¨åˆ†åè½¬é“¾è¡¨ï¼ˆè¿™é‡Œæ˜¯å¦ä¸€ç§åŒæŒ‡é’ˆåè½¬æ–¹å¼ï¼‰
    ListNode curr = s;
    while(s.next != null) {
        // ç¼“å­˜ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹ï¼Œæœ€ååè½¬å®Œäº†åï¼Œheadæ°å¥½æŒ‡å‘åŸæ¥çš„å°¾ null ä¸Š
        ListNode next = s.next.next;
        s.next.next = curr; // ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹
        curr = s.next; // å½“å‰èŠ‚ç‚¹æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸ªèŠ‚ç‚¹
        s.next = next; // sèŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹
    }

    boolean isPalindrome = true;
    s = head;
    while(curr != null && s != null) {
        if(curr.val != s.val) {
            return  false;
        }
        curr = curr.next;
        s = s.next;
    }
    /**
     * æœ€ååº”è¯¥æŠŠåè½¬çš„é“¾è¡¨å†åè½¬å›å»[æ—ºæŸ´]
     */
    return true;
  }
}
```

#### å°†é“¾è¡¨åˆ’åˆ†æˆå·¦è¾¹å°ã€ä¸­é—´ç›¸ç­‰ã€å³è¾¹å¤§çš„å½¢å¼

```java
/**
 * è¿™é¢˜å¦‚æœå€ŸåŠ©æ•°ç»„ï¼Œé‚£ä¸å°±æ˜¯å¿«æ’çš„ partition å—ï¼Ÿ
 *
 * è¦æƒ³æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œé‚£ä¹ˆå°±å¾—å€ŸåŠ© 6 ä¸ªå˜é‡ <head <tail =head =tail >head >tail
 *
 * éœ€è¦æ³¨æ„çš„ç‚¹å°±æ˜¯ï¼Œè¦åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º null
 */
```

#### å¤åˆ¶å«æœ‰éšæœºæŒ‡é’ˆçš„é“¾è¡¨ (lc.138)

```java
/**
 * è¿™é“é¢˜è¦æ˜¯ç©ºé—´å¤æ‚åº¦ä¸éœ€è¦ O(1)ï¼Œé‚£ä¹ˆç”¨å“ˆå¸Œè¡¨å°±æŒºå¥½åšçš„
 *
 * O(1) çš„ç©ºé—´å¤æ‚åº¦ï¼Œå°±éœ€è¦ä¸€å®šçš„æŠ€å·§äº†ï¼Œå°±æ˜¯ æ‹¼æ¥+æ‹†åˆ†ã€‚
 */
 // å“ˆå¸Œè¡¨
class Solution {
  public Node copyRandomList(Node head) {
      Map<Node, Node> map = new HashMap<>();
      Node p = head;
      while (p != null) {
          map.put(p, new Node(p.val));
          p = p.next;
      }
      p = head;
      while(p != null) {
          map.get(p).next = map.get(p.next);
          map.get(p).random = map.get(p.random);
          p = p.next;
      }
      return map.get(head);
  }
}
```

```java
public Node copyRandomList(Node head) {
  // æ°åˆ°å¥½å¤„çš„æ‹¼æ¥ï¼Œå¤åˆ¶èŠ‚ç‚¹ç›´æ¥æ‹¼åˆ°åŸèŠ‚ç‚¹åï¼Œè¿™æ ·ä¼šå‘ç°ï¼š
  // ** æ–°èŠ‚ç‚¹çš„randomæŒ‡å‘çš„å°±æ˜¯åŸèŠ‚ç‚¹randomæŒ‡å‘èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ **
  // 1.å¤åˆ¶èŠ‚ç‚¹
  Node p = head;
  while (p != null) {
      Node newNode = new Node(p.val);
      newNode.next = p.next;
      p.next = newNode;
      p = newNode.next;
  }
  // 2.è®¾ç½®random
  p = head;
  while (p != null) {
      if(p.random != null) {
          p.next.random = p.random.next;
      }
      p = p.next.next;
  }
  // 3.åˆ†ç¦»é“¾è¡¨
  Node dummy = new Node(-1);
  p = head;
  Node curr = dummy;
  while (p != null) {
      curr.next = p.next;
      curr = curr.next;
      p.next = curr.next;
      p = p.next;
  }
  return dummy.next;
}
```

#### ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤ç³»åˆ—é—®é¢˜

1. å•ä¸ªå•é“¾è¡¨æœ‰ç¯é—®é¢˜
   - ä»…åˆ¤æ–­æ˜¯å¦æœ‰ç¯ lc.141
     ```java
     public class Solution {
        public boolean hasCycle(ListNode head) {
            if (head == null || head.next == null) return false;
             // ç”±äºå¾ªç¯æ¡ä»¶æ˜¯slow != fast, æ‰€ä»¥è®©åˆå§‹åŒ–é”™å¼€ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŠŠwhileå’Œifæ¡ä»¶å¯¹æ¢ä½ç½®ï¼Œç¨ä½œä¿®æ”¹ï¼Œå°±å¯ä»¥éƒ½è®¾ç½®ä¸ºheadäº†ï½è‡ªè¡Œå°è¯•
            ListNode slow = head, fast = head.next;
            while (slow != fast) {
                if(fast == null || fast.next == null) return false;
                slow = slow.next;
                fast = fast.next.next;
            }
            return true;
        }
     }
     ```
   - è¿”å›ç¯çš„èµ·ç‚¹ lc.142
     ```java
     /**
      * å¿«æ…¢æŒ‡é’ˆï¼Œç¬¬ä¸€æ¬¡ç›¸é‡åå¿«æŒ‡é’ˆå›åˆ°å¤´éƒ¨å’Œæ…¢æŒ‡é’ˆä¸€èµ·èµ°ï¼Œå†æ¬¡ç›¸é‡å°±æ˜¯ç¯çš„èµ·ç‚¹ï¼Œ
      * è¿™å°±æ˜¯ Floydâ€™s cycle-finding ç®—æ³•
      *
      * å‡è®¾ head åˆ°ç¯èµ·ç‚¹çš„è·ç¦»ä¸º aï¼Œç¯èµ·ç‚¹åˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡çš„è·ç¦»ä¸º bï¼Œç¯é•¿åº¦ä¸º c ï¼Œåˆ™ï¼š
      * - æ…¢æŒ‡é’ˆèµ°äº† a + bï¼Œ
      * - å¿«æŒ‡é’ˆèµ°äº† a + b + n*cï¼Œ n ä¸ºåœˆæ•°
      * ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ° kï¼Œå¿«æŒ‡é’ˆèµ° 2kï¼Œå¿«æ¯”æ…¢å¤šèµ°äº† k æ­¥ï¼Œæ‰€ä»¥kæ˜¯ç¯çš„æ•´æ•°å€
      *
      * æ‰€ä»¥å›åˆ°èµ·ç‚¹çš„æŒ‡é’ˆè¦å†èµ° k - m æ­¥æ‰åˆ°èµ·ç‚¹ï¼Œè€Œä»ç¬¬ä¸€æ¬¡ç›¸é‡ç‚¹èµ°åˆ°ç¯èµ·ç‚¹çš„è·ç¦»ä¹Ÿ
      * æ°å¥½ä¸º k - m
      */
      public class Solution {
        public ListNode detectCycle(ListNode head) {
            if (head == null || head.next == null) return null;
            ListNode slow = head, fast = head;
            while (true) {
                if (fast == null || fast.next == null) return null;
                slow = slow.next;
                fast = fast.next.next;
                if (slow == fast) break;
            }
            fast = head;
            while (slow != fast) {
                slow = slow.next;
                fast = fast.next;
            }
            return fast;
        }
      }
     ```
     > æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼Œè¿™é‡Œå¯»æ‰¾ç¬¬ä¸€æ¬¡ç›¸é‡çš„èŠ‚ç‚¹ï¼Œä¸€å®šæ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ä¸€èµ·ä» head å‡ºå‘çš„ï¼Œè€Œä¸èƒ½åƒä¸Šä¸€é¢˜é‚£æ · slow ä» head å‡ºå‘ï¼Œfast ä» head.next å‡ºå‘ï¼Œè¿™ç§åªç”¨æ¥åˆ¤æ–­æ˜¯å¦æœ‰ç¯è¿˜æ˜¯å¯ä»¥çš„ã€‚
2. ä¸¤ä¸ªæ— ç¯å•é“¾è¡¨ç›¸äº¤é—®é¢˜
   - ä»…åˆ¤æ–­æ˜¯å¦ç›¸äº¤
   - è¿”å›ç›¸äº¤ç‚¹ lc.160
     ```java
     /**
      * åˆ¤æ–­æ˜¯å¦ç›¸äº¤å¾ˆç®€å•ï¼Œä¸¤ä¸ªå•é“¾èµ°åˆ°å¤´çš„æŒ‡é’ˆå¦‚æœä¸€æ ·ï¼Œåˆ™è¯´æ˜æœ‰ç›¸äº¤
      *
      * è‹¥è¦è¿”å›ç›¸äº¤çš„ç‚¹ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ä¸€æ ·é•¿ï¼Œåˆ™ä¸€èµ·ä»å¤´èµ°åˆ°ç›¸ç­‰çš„ä½ç½®å³å¯ï¼Œ
      * ä¸ä¸€æ ·é•¿ï¼Œé‚£å°±æ‰¾åˆ°é•¿çš„æ¯”çŸ­çš„é•¿äº†å¤šå°‘ï¼Œç„¶åæå‰å¤šèµ°è¿™å‡ æ­¥å³å¯ã€‚
      */
     public class Solution {
        public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
            if (headA == null || headB == null) return null;
            ListNode l = headA, s = headB;
            int n = 0;
            while (l != null) {
                n++;
                l = l.next;
            }
            while (s != null) {
                n--;
                s = s.next;
            }
            if (l != s) return null;
            l = n > 0 ? headA : headB;
            s = n > 0 ? headB : headA;
            n = Math.abs(n);
            while (n != 0) {
                l = l.next;
                n--;
            }
            while (l != s) {
                l = l.next;
                s = s.next;
            }
            return l;
        }
     }
     /**
      * å…¶å®è¿˜æœ‰ä¸€ä¸ªå–å·§çš„åŠæ³•ï¼Œå½“é“¾è¡¨éå†å®Œä¹‹åï¼ŒæŒ‡é’ˆåˆ†åˆ«å»å¯¹æ–¹é“¾è¡¨ä¸Šç»§ç»­èµ°ï¼Œ
      * å¦‚æœæœ‰ç›¸äº¤èŠ‚ç‚¹ï¼Œå°±åœæ­¢éå†ï¼Œå¦åˆ™æœ€åéƒ½ä¼šèµ°åˆ° nullï¼Œåœæ­¢éå†ã€‚
      * åŸç†ä¸Šè¿˜æ˜¯æŠ¹å¹³äº†é•¿çŸ­é“¾è¡¨çš„å·®è·ã€‚
      */
     ```
3. ä¸¤ä¸ªæœ‰ç¯å•é“¾è¡¨ç›¸äº¤é—®é¢˜
   - è¿”å›ç›¸äº¤ç‚¹
   ```java
   /**
    * æœ‰ç¯å•é“¾è¡¨ç›¸äº¤è¦åˆ†æ¸…æ¥šæƒ…å†µï¼š
    * 1. ä¸ç›¸äº¤
    * 2. ç¯çš„èµ·å§‹èŠ‚ç‚¹ä¸€æ ·ï¼Œåˆ™æŠŠè¿™ä¸ªèµ·å§‹èŠ‚ç‚¹çœ‹æˆä¸¤ä¸ªæ— ç¯é“¾è¡¨çš„ç»ˆç‚¹ï¼Œåˆ©ç”¨ä¸Šé¢˜çš„è§£æ³•æ±‚å‡ºç›¸äº¤èŠ‚ç‚¹å³å¯
    * 3. ç¯çš„èµ·å§‹èŠ‚ç‚¹ä¸ä¸€æ ·ï¼Œåˆ™è¿™ä¸¤ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç›¸äº¤èŠ‚ç‚¹ï¼Œè¿”å›ä»»æ„ä¸€ä¸ªå³å¯
    *
    * 1 å’Œ 3 æƒ…å†µçš„åŒºåˆ†æ˜¯ï¼Œä¸€ä¸ªç¯çš„èŠ‚ç‚¹ç»§ç»­èµ°ï¼Œèµ°å›è‡ªå·±ä¹‹å‰èƒ½é‡åˆ°å¦ä¸€ä¸ªç¯çš„èŠ‚ç‚¹å°±æ˜¯æƒ…å†µ3ï¼Œå¦åˆ™å°±æ˜¯æƒ…å†µ1
    */
    public ListNode bothLoop(ListNode head1, ListNode head2, ListNode loop1, ListNode loop2) {
      /**
      * ç¬¬ä¸€ç§æƒ…å†µï¼Œä¸¤ä¸ªæœ‰ç¯é“¾è¡¨å…±ç”¨ç¯èµ·ç‚¹ï¼Œ
        * é‚£ä¹ˆæ­¤æ—¶å¯ä»¥æŠŠç¯çš„èµ·ç‚¹çœ‹æˆæ˜¯head1å’Œhead2åˆ°çš„æ— ç¯é“¾è¡¨çš„ç»ˆç‚¹ï¼Œ
        * ä¹Ÿå°±è½¬åŒ–æˆäº†å¯»æ‰¾ä¸¤ä¸ªæ— ç¯å•é“¾è¡¨ç›¸äº¤ç‚¹çš„é—®é¢˜äº†ã€‚
        */
      if (loop1 == loop2) {
          ListNode p1 = head1, p2 = head2;
          int n = 0;
          while (p1 != loop1) {
              n++;
              p1 = p1.next;
          }
          while (p2 != loop2) {
              n--;
              p2 = p2.next;
          }
          p1 = n > 0 ? head1 : head2;
          p2 = n > 0 ? head2 : head1;
          n = Math.abs(n);
          while (n > 0) {
              p1 = p1.next;
              n--;
          }
          while (p1 != p2) {
              p1 = p1.next;
              p2 = p2.next;
          }
          return p1;
      } else {
          /**
          * ç¬¬äºŒç§æƒ…å†µä¸ç›¸äº¤å’Œç¬¬ä¸‰ç§æƒ…å†µç›¸äº¤åœ¨ç¯ä¸Šä¸åŒçš„èŠ‚ç‚¹
            * åŒºåˆ†æ–¹å¼æ˜¯è®©èŠ‚ç‚¹ä» loop1 å¼€å§‹ç»§ç»­ç»•ç¯èµ°ï¼Œèƒ½é‡åˆ° loop2 åˆ™è¯´æ˜ç›¸äº¤äº†ï¼Œå¦åˆ™ä¸ºä¸ç›¸äº¤
            */
          ListNode p = loop1.next; // å…ˆå‰è¿›ä¸€æ­¥ï¼Œå¦åˆ™whileè¿›ä¸å»å–½ï½
          while (p != loop1) {
              if (p == loop2) {
                  return loop2; // loop1 loop2éƒ½æ˜¯ç›¸äº¤ç‚¹ï¼Œéšæ„è¿”å›ä¸€ä¸ª
              }
              p = p.next;
          }
          return null;
      }
    }
   ```

---

## æ’å…¥ä¸€ä¸‹å“ˆå¸Œè¡¨çš„äº†è§£

åœ¨ javascript ä¸­çš„ Set å’Œ Map å’±å°±ä¸è¯´å•¥äº†ï¼Œéæ­£è§„å†› ğŸ˜„ã€‚æ¥çœ‹çœ‹ java çš„ï¼š

1. æ— åºè¡¨
   - HashSet: add remove containsï¼Œå¯¹å‘€ c++ ä¸­çš„ unordered_set
   - HashMap: put remove containsKeyï¼Œå¯¹åº” c++ ä¸­çš„ unordered_map
2. æœ‰åºè¡¨
   - TreeSetï¼šå®ƒæ˜¯æŒ‰å‡åºå¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯¹åº” c++ ä¸­çš„ ordered_set
   - TreeMapï¼šåŸºäºçº¢é»‘æ ‘çš„ NavigableMap å®ç°ï¼Œå®ƒæ ¹æ®å…¶é”®çš„è‡ªç„¶é¡ºåºæ’åºï¼Œå¯¹åº” c++ ä¸­çš„ ordered_map

è®°å¾—ä¹‹å‰å­¦ java çš„æ—¶å€™ï¼Œ HashSet åº•å±‚å°±æ˜¯ HashMapï¼Œåªä¸è¿‡æ²¡æœ‰ value åªæœ‰ key ç½¢äº†ï¼Œè€Œå¸¸è§„çš„ HashMap çš„åº•å±‚åˆ™æ˜¯ é“¾è¡¨ï¼Œåœ¨ java ä¸­ï¼Œå½“é“¾è¡¨çš„é•¿åº¦åˆ°è¾¾ 8 æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œé“¾è¡¨ä¹Ÿä¼šé‡æ–°åˆ†é…ï¼Œå¥½åƒæœ‰çº¢é»‘æ ‘ä»€ä¹ˆçš„ï¼ˆä¸æ¸…æ¥šï¼Œååºå­¦ä¹ å†å›å¤´è¡¥å……ï¼‰ï¼Œåé¢äº†è§£åˆ°å“ˆå¸Œå‡½æ•°çš„æ—¶å€™ï¼Œå°±æ›´åŠ æ¸…æ¥šäº†ï¼Œç¦»æ•£å‡½æ•°ä½¿å¾—åˆ†é…ç©ºé—´æ—¶åŸºæœ¬æ˜¯ç¦»æ•£å‡åŒ€çš„ã€‚

1. æ”¾å…¥æ— /æœ‰åºè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å€¼ä¼ é€’ï¼Œå†…å­˜å ç”¨å°±æ˜¯è¿™ä¸ªä¸œè¥¿çš„å¤§å°
2. æ”¾å…¥æ— åºè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå†…å­˜å ç”¨çš„å°±æ˜¯è¿™ä¸ªä¸œè¥¿çš„å†…å­˜åœ°å€çš„å¤§å°ï¼Œjava ä¸­æ˜¯ 8 ä¸ªå­—èŠ‚
3. æ”¾å…¥æœ‰åºè¡¨çš„ä¸œè¥¿ï¼Œå¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œ**å¿…é¡»æä¾›æ¯”è¾ƒå™¨**ï¼Œå†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’...ã€‚

> é‡ç‚¹ï¼šæ— åºè¡¨ çš„å¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ **å¸¸æ•°** çº§åˆ«ï¼ˆæ¯”è¾ƒå¤§çš„å¸¸æ•° å“ˆå“ˆï¼‰ï¼Œæœ‰åºè¡¨çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(logn) çº§åˆ«

---
