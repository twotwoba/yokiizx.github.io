---
title: 'å¿…é¡»æŒæ¡çš„æ’åºç®—æ³•'
date: 2022-09-23T14:42:51+08:00
tags: [algorithm]
---

## æ¯”è¾ƒæ’åº

å…³äºç¨³å®šæ€§å…ˆç»™ä¸ªç»“è®ºï¼š

- `O(n^2)` é‡Œåªæœ‰ `é€‰æ‹©æ’åº` æ˜¯ä¸ç¨³å®šçš„
- `O(nlogn)` é‡Œåªæœ‰ `å½’å¹¶æ’åº` æ˜¯ç¨³å®šçš„

##### å†’æ³¡æ’åº

ä»å·¦å¾€å³ï¼Œä¸¤ä¸¤æ¯”è¾ƒï¼Œå†’å‡ºæå€¼ã€‚

```JavaScript
function bubble(arr) {
  for(let i = 0; i < arr.length - 1; i++) {
    let sorted = true
    for(let j = 0; j < arr.length - i - 1; j++) {
      if(arr[j] > arr[j + 1]) {
        swap(arrï¼Œj, j + 1)
        sorted = false
      }
    }
    if(sorted) break
  }
}
```

1. å¤–å±‚å¾ªç¯æ§åˆ¶éå†è½®æ•°ï¼Œå†…å±‚å¾ªç¯æ§åˆ¶ç›¸é‚»å…ƒç´ ç›¸äº’æ¯”è¾ƒï¼›æ¯æ¬¡ä»å¤´å¼€å§‹ä¸¤ä¸¤æ¯”è¾ƒï¼Œæ’å¥½åºçš„åœ¨åå¤´
2. -1 æ˜¯å› ä¸ºä¸ `j + 1` æ¯”è¾ƒï¼Œæœ€åä¸€ä¸ªæ— éœ€å†æ¯”ï¼›-i æ˜¯å› ä¸º å‰ i ä¸ªå·²ç»æ’å¥½åºäº†
3. åˆ©ç”¨ sorted æ¥æ§åˆ¶å·²ç»æ’å¥½åºäº†å°±æå‰ç»“æŸéå†

##### æ’å…¥æ’åº

æ„å»ºæœ‰åºæ•°åˆ—ï¼Œä»åå¾€å‰æ‰¾å‡†ä½ç½®æ’å…¥

```JavaScript
function insert(arr) {
  for (let i = 1; i < arr.length; ++i) {
    let curr = i;
    let temp = arr[i]; // ç”¨æ¥å»æ¯”è¾ƒçš„
    while (curr > 0 && temp < arr[curr - 1]) {
      arr[curr] = arr[curr - 1]; // å¾€åæŒª
      curr--;
    }
    arr[curr] = temp; // å‡†ç¡®æ’å…¥
  }
}
```

1. å‡è®¾ç¬¬ä¸€ä¸ªå…ƒç´ å·²ç»æ’å¥½åºäº†ï¼Œä»ç¬¬äºŒä¸ªå…ƒç´ (ç´¢å¼• 1)å¼€å§‹éå†
2. å¤–å±‚éå†è®¾ç½®æŒ‡é’ˆå’Œç¼“å­˜æ•°æ®ï¼Œè¿™ä¸€æ­¥å¾ˆé‡è¦
3. å†…å±‚éå†æ˜¯å¯¹å·²ç»æ’å¥½åºçš„é˜Ÿåˆ—éå†ï¼Œä¸å¾…æ’å…¥çš„å…ƒç´ æ¯”è¾ƒï¼Œå‡¡æ˜¯æ¯”å®ƒå¤§çš„åé€€ï¼Œè…¾ä½ç½®

##### é€‰æ‹©æ’åº

é€‰æ‹©æ¯ä¸ªæ•°ä½œä¸ºæå€¼ï¼ˆæœ€å¤§/æœ€å°ï¼‰ï¼Œç„¶åå»å’Œå…¶ä¹‹åçš„æ•°æ¯”è¾ƒï¼Œæ›´æ–°æå€¼çš„æŒ‡é’ˆï¼Œæœ€åäº¤æ¢

```JavaScript
function select(arr) {
  for (let i = 0; i < arr.length - 1; i++) {
    let min = i
    for (let j = i + 1; j < arr.length; j++) {
      if (arr[j] < arr[min]) min = j
    }
    if (min !== i) swap(arr, i, min)
  }
}
```

1. å¤–å±‚æ¯ä¸ªæ•°è¢«æš‚è®¾ä¸ºæå€¼ï¼Œæœ€åä¸€ä¸ªæ•°æ²¡å¿…è¦å†æ¯”
2. ä¸åæ–¹çš„æ•°æ¯”ï¼Œæ‰€ä»¥`j = i + 1`
3. æ‰¾å‡ºçœŸæ­£çš„æå€¼åäº¤æ¢

##### å¿«é€Ÿæ’åº

åˆ†æ²»æ€æƒ³ï¼Œå…³é”®æ˜¯ `partition` å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å…ˆåˆ†åŒºï¼Œå†åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åº

```JavaScript
// å‰åºéå†æ€æƒ³
function quickSort(arr, l, r) {
  if(l >= r) return
  const index = partition(arr, l , r)
  quickSort(arr, l, index - 1)
  quickSort(arr, index + 1, r)
}

// åˆ†åŒº
function partition(arr, l, r) {
  // éšæœºé€‰æ‹©åŸºå‡†ï¼Œç„¶åä¸å¤´éƒ¨äº¤æ¢ï¼Œåˆ†å‰²å®Œæˆåï¼Œå†æ”¾åˆ°æ­£ç¡®çš„ä½ç½®
  const randomIndex = l + Math.random() * (r - l) | 0
  const pivot = arr[randomIndex]
  // æŠŠåŸºå‡†å€¼äº¤æ¢åˆ°é¦–éƒ¨ï¼Œ åŒæŒ‡é’ˆ è®© [l+1..r] åŒºé—´çš„å…ƒç´ å¯¹æ¯” pivot å·¦å³ç«™é˜Ÿ
  swap(arr, l, randomIndex)
  let i = l + 1
  let j = r
  while(i < j) {
    while(i < j && arr[i] <= pivot) i++
    while(i < j && arr[j] >= pivot) j--
    swap(arr, i, j)
  }
  // ç»“æŸæ¡ä»¶æ˜¯ i === jï¼Œæ­¤æ—¶æŒ‡å‘çš„ä½ç½®æœ‰å¯èƒ½æ˜¯å°äºç­‰äºä¹Ÿæœ‰å¯èƒ½æ˜¯å¤§äºç­‰äºåŸºå‡†å€¼
  // ä¸ºäº†i/jæ‰€å¤„ä½ç½®ä¸€å®šæ˜¯å°äºç­‰äºåŸºå‡†å€¼, æ‰€ä»¥åŠ ä¸€å±‚åˆ¤æ–­
  if (arr[i] > pivot) i--
  swap(arr, l, i)
  return i
}
```

1. åˆ†æ²»æ€æƒ³ï¼Œå¿«æ’ç±»ä¼¼å‰åºéå†ï¼Œéœ€è¦å…ˆè¿›è¡Œéå†ï¼Œç„¶åæ ¹æ®è¿”å›çš„åˆ†å‰²çº¿ï¼Œå†å¯¹å·¦å³åˆ†åˆ«éå†
2. éšæœºé€‰æ‹©åŸºå‡†åå’Œé¦–ä½äº¤æ¢ï¼Œç„¶åå€ŸåŠ©æŒ‡é’ˆï¼ŒæŠŠå°äºç­‰äºçš„æ”¾å·¦è¾¹ï¼Œå¤§äºç­‰äºçš„æ”¾å³è¾¹
3. ç»“æŸæ¡ä»¶æ˜¯ i===jï¼Œæ­¤æ—¶ j æœ‰å¯èƒ½åœ¨å¤§äºç­‰äº åŸºå‡†å€¼ä¸Šï¼Œä¸ºäº†ä¿è¯ä¸åŸºå‡†å€¼äº¤æ¢çš„å€¼ä¸€å®šå°äºç­‰äºåŸºå‡†å€¼ï¼Œéœ€è¦åŠ ä¸€å±‚åˆ¤æ–­ï¼Œå¦‚æ­¤æ‰èƒ½æŠŠåŸºå‡†å€¼æ”¾åˆ°å‡†ç¡®çš„ä½ç½®ä¸Šã€‚

> å¦å¤–ä¸€ç§æ˜¯[å¡«å‘æ³•](https://blog.51cto.com/u_14819316/3829823)ï¼Œå…¶å®å¤§åŒå°å¼‚ï¼Œåªä¸è¿‡æ˜¯åœ¨å†…å­˜ while çš„æ—¶å€™ï¼Œæ»¡è¶³æ¡ä»¶å°±ä¸æ–­ä¸åŸºå‡†å€¼äº¤æ¢ä½ç½®ï¼Œç±»ä¼¼äºå†’æ³¡æ’åºä¸¤ä¸¤æ¯”è¾ƒã€‚

> å˜ä½“ï¼Œ`å¿«é€Ÿé€‰æ‹©` ç®—æ³• ==> å¿«é€Ÿæ’åºçš„æ€æƒ³ + äºŒåˆ†çš„æ€æƒ³ï¼Œè§ lc215

##### å¸Œå°”æ’åº

æ’å…¥æ’åºçš„å‡çº§ç‰ˆï¼Œä¹Ÿå«ç¼©å°å¢é‡æ’åºï¼Œç”¨ gap åˆ†ç»„ï¼Œæ²¡æ¯ä¸ªç»„å†…è¿›è¡Œæ’å…¥æ’åºï¼Œå½“ gap ä¸º 1 æ—¶ï¼Œå°±æ’å¥½åºäº†ï¼Œç›¸æ¯”æ’å…¥æ’åºå¤šäº†è®¾å®š gap è¿™ä¸€å±‚æœ€å¤–éƒ¨ for å¾ªç¯

```JavaScript
function shellSort(nums) {
  for (let gap = arr.length >> 1; gap > 0; gap >>= 1) {   // å¤šäº†è®¾å®šgapå¢é‡è¿™ä¸€å±‚
    for (let i = gap; i < arr.lenght; i++) {
      let curr = i
      let temp = nums[i]
      while (curr - gap >= 0 && nums[curr - gap] > temp) {
        nums[curr] = nums[curr - gap]
        curr -= gap
      }
      nums[curr] = temp
    }
  }
}
```

##### å½’å¹¶æ’åº

```JavaScript
// å½’å¹¶æ’åºå°±æ˜¯ååºéå†
function mergeSort(nums) {
  const n = nums.length
  if (n === 1) return nums // æ³¨æ„ç»“æŸæ¡ä»¶
  const mid = n >> 1
  const left = nums.slice(0, mid)
  const right = nums.slice(mid)
  return merge(mergeSort(left), mergeSort(right))
}

// åˆå¹¶æœ‰åºæ•°ç»„
function merge(left, right) {
  const res = []
  while (left.length && right.length) {
    left[0] < right[0] ? res.push(left.shift()) : res.push(right.shift())
  }
  if (left.length) res.push(...left)
  if (right.length) res.push(...right)
  return res
}
```

##### å †æ’åº

```JavaScript
// ç±»ä¼¼äºä¼˜å…ˆé˜Ÿåˆ—
function heapSort(nums) {
  const data = [null].concat(nums)
  let n = nums.length
  // è¿™é‡Œç”¨ n >> 1 ç­‰ä»·äº (data.length>>1) - 1  è¿™æ ·æ‰èƒ½ä¿è¯æ˜¯ä»éæœ€åä¸€å±‚èŠ‚ç‚¹å¼€å§‹
  for (let i = n >> 1; i > 0; --i) heapify(data, i, n) // å¯¹éæœ€åº•ä¸€å±‚èŠ‚ç‚¹ä¸‹æ²‰, ç±»ä¼¼äºä¼˜å…ˆé˜Ÿåˆ—çš„down(i)
  // è¿™é‡Œç±»ä¼¼äºè‡ªåŠ¨pop åªä¸è¿‡ä¸æ˜¯çœŸçš„popæ•°æ®
  // è€Œæ˜¯åˆ©ç”¨é•¿åº¦æ¥é™åˆ¶å°†æœªæ’å¥½åºçš„éƒ¨åˆ†ç»§ç»­å †åŒ–
  for (let i = n; i > 1; --i) {
    swap(data, 1, i) // äº¤æ¢é¦–å°¾
    n--
    heapify(data, 1, n) // å¯¹å‰©ä¸‹çš„é‡å¤å †åŒ–,è®©å †é¡¶å§‹ç»ˆæ˜¯æå€¼
  }
}

function heapify(nums, i, size) {
  if (i === size) return // æ’å®Œäº†
  const temp = i
  let l = i << 1 // å·¦
  let r = l + 1 // å³

  if (l <= size && nums[i] < nums[l]) i = l
  if (r <= size && nums[i] < nums[r]) i = r
  if (i !== temp) {
    swap(nums, i, temp)
    heapify(nums, i, size)
  }
}
```

## éæ¯”è¾ƒæ’åº

éæ¯”è¾ƒæ’åºçš„æ€æƒ³å°±æ˜¯åˆ©ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚

##### è®¡æ•°æ’åº

è¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šçš„èŒƒå›´æ•´æ•°, å› ä¸ºè¦ç¡®å®šé¢å¤–å¼€è¾Ÿçš„ç©ºé—´çš„å¤§å°ã€‚

æ—¶é—´å¤æ‚åº¦ `O(n + k)`ï¼š n ä¸ªæ•°, k ä¸ºèŒƒå›´

```JavaScript
// æ ¸å¿ƒæ˜¯å°†æ•°æ®ä½œä¸ºé”®å­˜å‚¨åˆ°å¦ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´åªé’ˆå¯¹æ­£æ•´æ•°
// å½“ç„¶å’±å¯ä»¥é€šè¿‡ + ä¸€ä¸ªæ•°è®©æ‰€æœ‰çš„æ•°éƒ½å˜æˆæ­£æ•°åå†æ’åº, æ’åºå®Œæˆåå†å‡å»
function countSort(nums, maxValue) {
  const count = new Array(maxValue + 1)
  // æ•°æ®ä½œä¸º key å†™å…¥ count
  for (let i = 0; i < nums.length; i++) {
    if (!count[nums[i]]) count[nums[i]] = 0
    count[nums[i]]++
  }

  // æ•°æ®é‡æ–°å†™å…¥ nums
  let index = 0
  for (let i = 0; i < count.length; i++) {
    while (count[i]-- > 0) {
      nums[index++] = i
    }
  }
  console.log(nums)
}
```

##### æ¡¶æ’åº

å‡è®¾è¾“å…¥æ•°æ®æœä»å‡åŒ€åˆ†å¸ƒã€‚

å®ƒåˆ©ç”¨å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œå°†å¾…æ’åºå…ƒç´ åˆ†åˆ°æœ‰é™çš„æ¡¶é‡Œï¼Œç„¶åæ¡¶å†…å…ƒç´ å†è¿›è¡Œæ’åºï¼ˆå¯èƒ½æ˜¯åˆ«çš„æ’åºç®—æ³•ï¼‰ï¼Œæœ€åå°†å„ä¸ªæ¡¶å†…å…ƒç´ è¾“å‡ºå¾—åˆ°ä¸€ä¸ªæœ‰åºæ•°åˆ—

æ—¶é—´å¤æ‚åº¦ `O(n)`

```JavaScript
function bucketSort(nums) {
  // å…ˆç¡®å®šæ¡¶çš„æ•°é‡ï¼Œè¦æ‰¾å‡ºæœ€å¤§æœ€å°å€¼ï¼Œå†æ ¹æ® scope æ±‚å‡ºæ¡¶æ•°
  const scope = 3 // æ¯ä¸ªæ¡¶çš„å­˜å‚¨çš„èŒƒå›´
  const min = Math.min(...nums)
  const max = Math.max(...nums)
  const count = Math.floor((max - min) / scope) + 1
  const bucket = Array.from(new Array(count), _ => [])

  // éå†æ•°æ®ï¼Œçœ‹åº”è¯¥æ”¾å…¥å“ªä¸ªæ¡¶ä¸­
  for (const value of nums) {
    const index = ((value - min) / scope) | 0
    bucket[index].push(value)
  }

  const res = []
  // å¯¹æ¯ä¸ªæ¡¶æ’åº ç„¶åæ”¾å…¥ç»“æœé›†
  for (const item of bucket) {
    insert(item) // æ’å…¥æ’åº
    res.push(...item)
  }
  return res
}
```

> è®¡æ•°æ’åº: æ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼  
> æ¡¶æ’åº: æ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„å€¼

---

å¦‚æœä½ ä¹Ÿå¯¹ç®—æ³•æœ‰å…´è¶£ï¼Œæ¬¢è¿ç•™è¨€ï¼Œæ‹‰æ‚¨è¿›ç¾¤äº¤æµ~ğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»
