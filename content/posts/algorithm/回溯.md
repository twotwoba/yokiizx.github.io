---
title: 'å›æº¯'
date: 2022-10-09T20:49:13+08:00
tags: [algorithm]
---

## æ’åˆ—ç»„åˆ

ä¸€äº›ç»éªŒï¼š

1. backtrack å‡½æ•°ç”¨æ¥è¿›è¡Œæ·±åº¦éå†(å‡½æ•°å˜›,ä¸æ–­è¿›è°ƒç”¨æ ˆå–½)ï¼Œfor å¾ªç¯ç”¨æ¥æ§åˆ¶æ¯ä¸€å±‚èƒ½éå†å…ƒç´ ã€‚
2. å­é›†ä¸ç»„åˆæ˜¯ä¸€ç±»é¢˜æ— éœ€è€ƒè™‘é¡ºåºï¼Œè€Œæ’åˆ—éœ€è¦è€ƒè™‘é¡ºåºã€‚æ‰€ä»¥å­é›†å’Œç»„åˆéœ€è¦ä¸€ä¸ªå‚æ•° start æ¥è¿‡æ»¤åç»­çš„æ ‘æã€‚
   - ç»„åˆï¼š`backtrack = (start) => {}`
   - æ’åˆ—ï¼š`backtrack = () => {}`
3. æ— é‡å¤å…ƒç´ æ—¶ï¼Œä¸éœ€è¦å‰ªæï¼›æœ‰é‡å¤å…ƒç´ æ—¶ï¼Œéœ€è¦å…ˆæ’åºï¼Œç„¶åå‰ªæï¼Œè¿™ä¸€æ­¥åœ¨ for å¾ªç¯å†…ã€‚
4. å…ƒç´ å¯ä»¥å¤é€‰ï¼Œ`backtrack(i)` å¦åˆ™ `backtrack(i + 1)`ï¼Œè¿™ä¸€æ­¥åœ¨ for å¾ªç¯å†…ã€‚
5. é’ˆå¯¹æ’åˆ—ï¼Œéœ€è¦ä½¿ç”¨ used å‰ªæã€‚  
   å¦‚æœæ’åˆ—ä¸­æœ‰é‡å¤å…ƒç´ ï¼Œéœ€è¦ä¿è¯ç›¸åŒå…ƒç´ åœ¨æ’åˆ—ä¸­çš„ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜ï¼Œæ‰€ä»¥å‰ªææ¡ä»¶è¦å¤šåŠ ä¸€ä¸ª `!used[i-1]`ï¼Œå…¶å«ä¹‰æ˜¯ï¼šå¦‚æœå‰é¢çš„å…ƒç´ æ²¡æœ‰ç”¨è¿‡ï¼Œåˆ™è·³è¿‡ï¼ŒA1A2A3ï¼Œä¸ºäº†ä¿è¯é¡ºåºï¼Œä¸€å®šæ˜¯ A1 æœ‰ç”¨è¿‡æˆ‘æ‰èƒ½ç”¨ A2 è¿™æ ·å­ã€‚

> å…¶å®è¿™ç§å›æº¯ï¼Œä¸ dfs å¾ˆç›¸åƒï¼Œåªä¸è¿‡å›æº¯æ˜¯é€‰æ‹©æ ‘æï¼Œè€Œ dfs æ˜¯é€‰æ‹©èŠ‚ç‚¹ã€‚
> backtrack ä¸­ for å¾ªç¯ä»¥å¤–éƒ½æ˜¯èŠ‚ç‚¹æ“ä½œä½ç½®ï¼Œfor å¾ªç¯å†…æ˜¯æ ‘æçš„æ“ä½œä½ç½®

å¦å¤–æ¶‰åŠåˆ°é€’å½’éƒ½éœ€è¦æ³¨æ„ç»ˆæ­¢æ¡ä»¶å“¦ ğŸ‘»ã€‚

##### [39. ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/)

å…³é”®ç‚¹ï¼š

1. æ— é‡å¤å…ƒç´ 
2. å…ƒç´ å¯ä»¥é‡å¤é€‰ã€‚

```JavaScript
/**
 * @param {number[]} candidates
 * @param {number} target
 * @return {number[][]}
 */
var combinationSum = function(candidates, target) {
    const res = []
    const track = []
    let sum = 0
    const backtrack = (start) => {
        if(sum === target) {
            res.push([...track])
            return
        }
        if(sum > target) return
        for(let i = start; i < candidates.length; ++i) {
            const v = candidates[i]
            sum += v
            track.push(v)
            backtrack(i)
            sum -= v
            track.pop()
        }
    }
    backtrack(0)
    return res
};
```

##### [46.å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)

å…³é”®ç‚¹ï¼š

1. æ— é‡å¤å…ƒç´ 
2. ä¸å¯å¤é€‰

```JavaScript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var permute = function(nums) {
    const res = []
    const track = []
    const uesd = []
    const backtrack = () => {
        if(track.length === nums.length) {
            res.push([...track])
            return
        }
        for(let i = 0; i < nums.length; ++i) {
            const v = nums[i]
            if(uesd.includes(v)) continue
            track.push(v)
            uesd.push(v)
            backtrack()
            track.pop()
            uesd.pop()
        }
    }
    backtrack()
    return res
};
```

##### [47. å…¨æ’åˆ— II](https://leetcode.cn/problems/permutations-ii/)

å…³é”®ç‚¹ï¼š

1. æœ‰é‡å¤å…ƒç´ 
2. ä¸å¯å¤é€‰

```JavaScript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var permuteUnique = function(nums) {
    nums.sort((a, b) => a - b)
    const res = []
    const track = []
    const used = []
    const backtrack = () => {
        if(track.length === nums.length) {
            res.push([...track])
            return
        }
        for(let i = 0; i < nums.length; ++i) {
            if(used[i]) continue
            if(i > 0 && nums[i] === nums[i-1] && !used[i-1]) continue
            track.push(nums[i])
            used[i] = true
            backtrack()
            track.pop()
            used[i] = false
        }
    }
    backtrack()
    return res
};
```
