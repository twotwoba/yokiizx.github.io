---
title: 'åŠ¨æ€è§„åˆ’'
date: 2022-10-12T09:31:28+08:00
tags: [algorithm, dynamic pogramming]
---

åŠ¨æ€è§„åˆ’æ˜¯ç®—æ³•ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„ä¸œè¥¿ï¼Œåœ¨æˆ‘çœ‹æ¥å®ƒçš„æ ¸å¿ƒå°±æ˜¯æ¨ç†ï¼Œç”±è¡¨è±¡æ‰¾åˆ°å†…åœ¨ï¼Œå†ç”±å°æ¨ç†è‡³ç»“æœã€‚

## ä¸‰è¦ç´ ï¼š

- é‡å å­é—®é¢˜
- æœ€ä¼˜å­ç»“æ„
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹

ä»¥ä¸Šä¸‰ç‚¹ï¼Œå•æ˜¯è¯´æ€•æ˜¯ä¸èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œåšäº†ä¸€äº›é¢˜åå°±ä¼šæœ‰æ›´å¥½çš„é¢†æ‚Ÿ

> å…³äºç¬¬ä¸‰ç‚¹æ˜¯åŠ¨æ€è§„åˆ’çš„çµé­‚ï¼Œè´ªå¿ƒç®—æ³•ç›¸æ¯”åŠ¨è§„å°±æ˜¯æ²¡æœ‰é€’æ¨çš„è¿‡ç¨‹ï¼Œç›´æ¥å±€éƒ¨æœ€ä¼˜

ä¸‹æ–¹æ˜¯ labuladong å¤§ä½¬ç»™å‡ºçš„åŠ¨æ€è§„åˆ’çš„ä¸¤ç§æ–¹å¼ï¼Œé‡åœ¨é€’å½’ã€é€’æ¨çš„æ€è·¯ï¼Œä¸æ˜¯ç…§æ¬æ¨¡æ¿å“¦~

```JavaScript
// æ€è·¯1: è‡ªé¡¶å‘ä¸‹çš„åŠ¨æ€è§„åˆ’ (é€’å½’)
function dp(staus1, ...other_staus) {
  for (const é€‰æ‹© of æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©) {
    // çŠ¶æ€å› ä¸ºé€‰æ‹©è€Œå‘ç”Ÿäº†æ”¹å˜
    result = æ±‚æœ€å€¼(result, dp(status1, ...otherStatus))
  }
  return result
}

// æ€è·¯2: è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ (é€’æ¨)
const dp[0][0][...maybe] = base case
for(const çŠ¶æ€1 of çŠ¶æ€1ä¸­çš„æ‰€æœ‰å–å€¼) {
  for(const çŠ¶æ€2 of çŠ¶æ€2ä¸­çš„æ‰€æœ‰å–å€¼) {
    //...å…¶ä»–çŠ¶æ€forå¾ªç¯
    dp[çŠ¶æ€1][çŠ¶æ€2][...] = æ±‚æœ€å€¼(é€‰æ‹©1ï¼Œé€‰æ‹©2...)
  }
}
```

> è¿™é‡Œçš„çŠ¶æ€å¯ä»¥ç†è§£ä¸ºç»´åº¦ï¼Œå°±æ˜¯å¯æšä¸¾æ•°æ®ï¼›é€‰æ‹©å°±æ˜¯æ ¹æ®æƒ…å†µåšä¸åŒå¤„ç†ï¼Œ01 èƒŒåŒ…å¯¹ç¬¬äºŒä¸ªæ¡†æ¶å®Œç¾è¯ é‡Š

---

## äº”éƒ¨æ›²

æˆ‘ä»¬å¹³æ—¶è§£å†³é—®é¢˜ï¼Œå¯èƒ½æœ€å¸¸ç”¨çš„è¿˜æ˜¯ä¸‹é¢å‡ ä¸ªæ­¥éª¤ï¼Œ

1. ç¡®å®š dp æ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰ -- å¯»æ‰¾çŠ¶æ€ä¸é€‰æ‹©
2. ç¡®å®šé€’æ¨å…¬å¼ -- dp[i] ä¸ i çš„å…³ç³»å¾ˆé‡è¦
3. dp æ•°ç»„åˆå§‹åŒ– -- ä¾æ®é¢˜ç›®æˆ–è€…è¾¹ç•Œæ¡ä»¶ (è¿™æ˜¯æ€è·¯,å†™çš„æ—¶å€™åˆå§‹åŒ–å½“ç„¶åœ¨å‰)
4. ç¡®å®šéå†é¡ºåº -- æ ¹æ®é€’å½’å…¬å¼æ¥åˆ¤æ–­,å¯ä»¥ç”»äºŒä½å®«æ ¼å›¾æ¥çœ‹
5. ä¸¾ä¾‹æ¨å¯¼ dp æ•°ç»„ -- ä¾¿äºé‡è§é—®é¢˜ï¼Œæ‰“å° dp éªŒè¯

> è¾…åŠ©å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š  
> æ˜ç¡®ã€ŒçŠ¶æ€ã€-> æ˜ç¡®ã€Œé€‰æ‹©ã€ -> å®šä¹‰ dp çš„å«ä¹‰(æ•°ç»„æˆ–å‡½æ•°)ï¼Œæœ€åæ€è€ƒä¸‹ base caseã€‚

## å®æˆ˜

##### [70.çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/)

```JavaScript
/**
 * @param {number} n
 * @return {number}
 */
var climbStairs = function(n) {
    // 1. å®šä¹‰ dp[i]: è¡¨ç¤ºçˆ¬åˆ°ç¬¬ i å±‚æ—¶çš„æ–¹æ³•æ•°ä¸º dp[i]ï¼Œç¬¬nå±‚ ç´¢å¼•ä¸º n + 1
    // æ‰€ä»¥åˆå§‹åŒ–ä¸º Array(n + 1)
    const dp = new Array(n + 1).fill(0)
    // 2. æ ¹æ®é¢˜ åˆå§‹åŒ–
    dp[1] = 1
    dp[2] = 2
    // 3. ç¡®å®šé€’å½’å…¬å¼, åˆ°è¾¾ç¬¬ i å±‚ï¼Œå¯ä»¥ä»i-1å±‚æˆ–i-2å±‚è¿›å…¥,
    // æ‰€ä»¥æ–¹æ³•æ•°ä¸ºè¿™ä¸¤ç§åˆ°è¾¾ç¬¬iå±‚çš„å’Œ: dp[i-1] + dp[i-2]
    // 4. ç”±äºi ä¾èµ–äº i-1,i-2 æ‰€ä»¥è¦ä»å‰å¾€åéå†
    for(let i = 3; i < dp.length; ++i) {
        dp[i] = dp[i-1] + dp[i-2]
    }
    return dp[n]
};
```

##### [746.ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/min-cost-climbing-stairs/)

```JavaScript
/**
 * @param {number[]} cost
 * @return {number}
 */
var minCostClimbingStairs = function(cost) {
    // 1. å®šä¹‰dp[i]: è¡¨ç¤ºåˆ°è¾¾ç¬¬ i å±‚èŠ±è´¹çš„æœ€å°å€¼, è¦æ±‚çš„æ˜¯ dp[cost.length]
    // æ‰€ä»¥å®šä¹‰ dp å®¹é‡ä¸º cost.length + 1
    const n = cost.length
    const dp = new Array(n + 1).fill(0)
    // 2. åˆå§‹åŒ– æ ¹æ®é¢˜ å¯ä»¥ä» 0 æˆ– 1 ä¸‹æ ‡å¼€å§‹ dp[0]=dp[1]=0
    dp[0] = 0
    dp[1] = 0
    // 3. å…¬å¼ dp[i] = min(dp[i-1] + cost[i-1], dp[i-2] + cost[i-2])
    for(let i = 2; i <= n; ++i) {
        dp[i] = Math.min(dp[i-1] + cost[i-1], dp[i-2] + cost[i-2])
    }
    return dp[n]
};
```

> ä¸Šæ–¹ä¸¤ç§é¢˜æ¯”è¾ƒï¼Œ70 é¢˜æ˜¯è¿‡ç¨‹ä¸­æ¨åˆ°ï¼Œç›¸å¯¹å®¹æ˜“ï¼›746 é¢˜æ˜¯ç›®æ ‡æå€¼æ¨å¯¼ï¼Œå¯¹äºæ–°æ‰‹è€Œè¨€è¦ç›¸å¯¹éš¾ä¸€ç‚¹ï¼Œå½“ç„¶äº†ï¼Œå¦‚æœå¯¹åŠ¨è§„æ¯ä¸ªç»†èŠ‚éƒ½çƒ‚ç†Ÿäºå¿ƒï¼Œé‚£éƒ½å¾ˆ easy å•¦~ğŸ‘»

---

##### [62.ä¸åŒè·¯å¾„](https://leetcode.cn/problems/unique-paths/)

æœ‰ç‚¹ç®—æ³•åŸºç¡€çš„äººï¼Œå›è¿‡å¤´æ¥å†çœ‹è¿™é“é¢˜ï¼Œä¹ä¸€çœ‹ï¼Œæ˜¯ä¸æ˜¯å¥½åƒè¦ç”¨å›æº¯æˆ–è€… dfsï¼Ÿ  
--è¿˜çœŸå¯ä»¥ï¼Œä½†æ˜¯ï¼æ—¶é—´å¤æ‚åº¦å°†æ˜¯æŒ‡æ•°çº§çš„ï¼(å°†ä¸€ä¸ª 2\*2 çš„çŸ©é˜µè½¬ä¸ºäºŒå‰æ ‘å°±èƒ½å¾ˆå®¹æ˜“ç†è§£äº†ï¼Œå°±æ˜¯æ±‚å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°)

æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼ˆä¸ä¸€å®šå¯¹å“ˆï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼‰ï¼Œé¢˜ç›®å‡ºç»™äº†æç¤ºï¼šåªèƒ½å‘å³æˆ–å‘ä¸‹ï¼Œè¿™æ˜¯åœ¨æç¤ºæˆ‘ä»¬å¯ä»¥åšã€Œé€‰æ‹©ã€ï¼Œé‚£ä¹ˆå°±å¯ä»¥è”æƒ³åˆ°ç”¨åŠ¨æ€è§„åˆ’å»åšäº†ã€‚ğŸ‘»

```JavaScript
/**
 * @param {number} m
 * @param {number} n
 * @return {number}
 */
var uniquePaths = function(m, n) {
    // 1. å®šä¹‰dp[i][j]: è¡¨ç¤ºä»matrix[0][0]åˆ°è¾¾ matrix[i][j]çš„æ€»å…±è·¯å¾„
    const dp = Array.from(new Array(m), _ => new Array(n).fill(0))
    // 2. base case i == 0 / j == 0 çš„è¾¹ç•Œæ¡ä»¶ dp[0][j] = 1 dp[j][0] = 1
    for(let i = 0; i < m; ++i) dp[i][0] = 1
    for(let j = 0; j < n; ++j) dp[0][j] = 1
    // 3. é€’æ¨å…¬å¼ [i][j] å¯ä»¥ä» [i-1][j] æˆ–è€… [i][j-1] æ¥ ä¸¤è€…ç›¸åŠ å³å¯
    for(let i = 1; i < m; ++i) {
        for(let j = 1; j < n; ++j) {
            dp[i][j] = dp[i-1][j] + dp[i][j-1]
        }
    }
    return dp[m-1][n-1]
};
```

##### [63.ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)

```JavaScript
/**
 * @param {number[][]} obstacleGrid
 * @return {number}
 */
var uniquePathsWithObstacles = function(obstacleGrid) {
    // å®šä¹‰dp[i][j]: [0][0] åˆ° [i][j] çš„è·¯å¾„æ€»æ•°
    const m = obstacleGrid.length
    const n = obstacleGrid[0].length
    const dp = Array.from(new Array(m), _ => new Array(n).fill(0))
    // base case
    dp[0][0] = obstacleGrid[0][0] === 1 ? 0 : 1
    for(let i = 1; i < m; ++i) dp[i][0] = obstacleGrid[i][0] === 1 ? 0 : dp[i-1][0]
    for(let j = 1; j < n; ++j) dp[0][j] = obstacleGrid[0][j] === 1 ? 0 : dp[0][j-1]
    // é€’æ¨å…¬å¼: æ²¡å•¥éš¾çš„,å°±æ˜¯è€ƒè™‘ä¸€ä¸‹éšœç¢ç‰©å˜›
    // dp[i][j] = 0 || dp[i-1][j] + dp[i][j-1]
    for(let i = 1; i < m; ++i) {
        for(let j = 1; j < n; ++j) {
            dp[i][j] = obstacleGrid[i][j] === 1 ? 0 : (dp[i-1][j] + dp[i][j-1])
        }
    }
    return dp[m-1][n-1]
};
```

---

##### [343.æ•´æ•°æ‹†åˆ†](https://leetcode.cn/problems/integer-break/)

è¿™é“é¢˜å’Œè·¯å¾„ä¸€æ ·ï¼Œä¸€çœ¼çœ‹ä¸Šå»å¥½åƒå°±è¦æå‡ºæ‰€æœ‰çš„ç»“æœé›†ç„¶åå¯¹æ¯”ï¼Œå°±å¾—ç”¨ dfs æˆ–è€…å›æº¯ï¼Œä½†æ˜¯æ˜¾ç„¶ï¼Œè¿™ç§æ˜¯ä¸é è°±çš„ã€‚

è¿™é“é¢˜ç»™å‡ºçš„æç¤ºæ˜¯ï¼šæœ€å¤§ä¹˜ç§¯ï¼æ±‚æå€¼--è¿™å°±æ˜¯ä¸€ç§é€‰æ‹©ï¼Œå¯ä»¥ dfs å‡ºæ‰€æœ‰çš„ç»“æœï¼Œé‚£ä¹ˆåŠ¨æ€è§„åˆ’å°±å€¼å¾—ä¸€è¯•ï¼

```JavaScript
/**
 * @param {number} n
 * @return {number}
 */
var integerBreak = function(n) {
    // å®šä¹‰ dp[i]: è¡¨ç¤º æ•°å­— i çš„æœ€å¤§ä¹˜ç§¯ (2<=n<=58)
    const dp = new Array(n + 1).fill(0)
    // base case
    dp[2] = 1
    // è¿™é“é¢˜çš„éš¾ç‚¹å°±æ˜¯æ¨å¯¼å…¬å¼--ã€‹æœ€å¤§ä¹˜ç§¯æ€ä¹ˆè·å¾—? -- æ‹†åˆ†! æœ‰æ‹†åˆ†å°±æœ‰é€‰æ‹©å•¦
    // i æ‹†åˆ†ä¸ºä¸€ä¸ªæ•° j å’Œ i-j, ä¹˜ç§¯ä¸º i*(i-j), 1 <= j < i
    // i-j ç»§ç»­æ‹†åˆ†ï¼Œi*dp[i-j]
    for(let i = 3; i <= n; ++i) {
        for(let j = 1; j < i ; ++j) {
            dp[i] = Math.max(j * (i - j), j * dp[i - j], dp[i])
        }
    }
    return dp[n]
};
```

> æ„Ÿå…´è¶£çš„å»ºè®®çœ‹å®˜æ–¹é¢˜è§£ï¼Œå¯ä»¥åˆ©ç”¨æ•°å­¦çŸ¥è¯†å¾—åˆ°æœ€ä¼˜è§£ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ï¼Œå¾ˆæœ‰æ„æ€ã€‚

##### [96.ä¸åŒçš„äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/unique-binary-search-trees/)

äºŒå‰æœç´¢æ ‘çš„ç‰¹ç‚¹æ˜¯ `l < root < r`

è¿™é“é¢˜çš„é‡ç‚¹æ˜¯æ±‚ä¸åŒç§æ•°æ•°é‡ï¼Œå®ƒä¸å…³å¿ƒèŠ‚ç‚¹å€¼æ˜¯å¦ç›¸åŒï¼Œåªå…³å¿ƒæ•°çš„éª¨æ¶ç»“æ„æ˜¯å¦ä¸ä¸€æ ·ï¼ŒäºŒå‰æ ‘åªæœ‰`/`å’Œ`\`è¿™ä¸¤ç§è¿æ¥ç»“æ„ï¼Œæ‰€ä»¥ç”¨åŠ¨æ€è§„åˆ’ä¹Ÿèƒ½åšåˆ°æ‰¾å‡ºæ‰€æœ‰ç§ç±»ã€‚(å…¶å®è¿™ä¸ªæŒºéš¾æƒ³åˆ°çš„ï¼Œæˆ‘å»ºè®®ç”¨ä¸‹é¢çš„è§£æ³•äºŒæ›´å¥½)

```JavaScript
/**
 * @param {number} n
 * @return {number}
 */
var numTrees = function(n) {
    // å®šä¹‰ dp[i]: è¡¨ç¤º [1..i] çš„äºŒå‰æœç´¢æ ‘æ•°é‡
    const dp = new Array(n + 1).fill(0)
    // base case
    dp[0] = 1
    dp[1] = 1
    // å…¬å¼: ä¸€ä¸ªæ ¹èŠ‚ç‚¹,å·¦å­æ ‘çš„ä¸ªæ•°*å³å­æ ‘çš„ä¸ªæ•°å°±æ˜¯å½“å‰æ ¹ç»„åˆå‡ºçš„ä¸ªæ•°ï¼Œç´¯åŠ æ¯ä¸ªæ•°ä½œä¸ºæ ¹çš„ä¸ªæ•°å³å¯ã€‚å…¶å®ä¹Ÿæ˜¯æ‹†åˆ†ï¼Œä¸ä¸Šä¸€é¢˜ç±»ä¼¼ã€‚j ä¸ i - j
    for(let i = 2; i <= n; ++i) {
        for(let j = 1; j <= i; ++j) {
            dp[i] += dp[j - 1] * dp[i - j]
        }
    }
    return dp[n]
};
```

(æ¨è) é™¤äº†åŠ¨è§„ï¼Œè¿™é“é¢˜ä¹Ÿå¯ä»¥ç”¨ dfs æ¥è§£å†³ï¼š

```JavaScript
/**
 * @param {number} n
 * @return {number}
 */
var numTrees = function(n) {
    // é€‰æ‹©æ¯ä¸ªæ•°xä½œä¸ºæ ¹èŠ‚ç‚¹, ç„¶åé€’å½’æ„é€ å·¦å³å­æ ‘
    // [start..x-1] [x+1..end] å­æ ‘ç§æ•°ç›¸ä¹˜å°±æ˜¯å½“å‰æ ¹å¯ä»¥é€ çš„äºŒå‰æœç´¢æ ‘çš„ç§æ•°
    // æ³¨æ„: éœ€è¦å¤‡å¿˜å½•memo å¦è´¼ä¼šè¶…æ—¶
    const memo = Array.from(new Array(n + 1), () => new Array(n + 1))
    // è®°å½•åŒºé—´ [l..h] çš„BSTç§æ•°
    const count = (start, end) => {
        // base ç´§ç´§å›´ç»•åŒºé—´ [l..h], ç©ºåŒºé—´ä¹Ÿæ˜¯ä¸€ç§æƒ…å†µæ‰€ä»¥è¿”å›1
        if(start > end) return 1
        if(memo[start][end]) return memo[start][end]
        let res = 0
        for(let i = start; i <= end; ++i) {
            const countL = count(start, i - 1)
            const countR = count(i + 1, end)
            res += countL * countR
        }
        memo[start][end] = res
        return res
    }
    return count(1, n) // æ³¨æ„åŒºé—´æ˜¯ [1...n]
};
```

> æœ¬é¢˜è¿˜æœ‰æ›´ä¼˜çš„æ•°å­¦è§£(å¡å¡”å…°æ•°)ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹å®˜è§£

##### [95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II](https://leetcode.cn/problems/unique-binary-search-trees-ii/)

è¿™é“é¢˜ä¸å±äºåŠ¨è§„èŒƒå›´ï¼Œå‘¼åº”ä¸Šä¸€é¢˜çš„è§£æ³•ï¼Œæ‰€ä»¥å†™åœ¨æ­¤å¤„ã€‚å› ä¸ºè¿™é‡Œè¦ç»™å‡ºæœ€åçš„è§£ï¼Œæ‰€ä»¥åŠ¨æ€è§„åˆ’å°±ä¸çµäº†ï¼Œéœ€è¦ä½¿ç”¨ dfs çš„è§£æ³•å’Œå¤‡å¿˜å½•æŠ€å·§ã€‚

```JavaScript
/**
 * Definition for a binary tree node.
 * function TreeNode(val, left, right) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.left = (left===undefined ? null : left)
 *     this.right = (right===undefined ? null : right)
 * }
 */
/**
 * @param {number} n
 * @return {TreeNode[]}
 */
var generateTrees = function(n) {
    // æ„é€ åŒºé—´ [l..h] åŒºé—´å†…çš„BSTçš„ç§ç´¯
    const build = (l, h) => {
        const res = []
        // è¿™é‡Œçš„base case ä¸€å®šè¦ç´§ç´§å›´ç»•åŒºé—´[l..h]æ¥åšåˆ¤æ–­
        if(l > h) {
            res.push(null)
            return res
        }
        // ç©·ä¸¾æ‰€æœ‰èŠ‚ç‚¹ä¸ºæ ¹çš„å¯èƒ½, é€’å½’æ„é€ å·¦å³å­æ ‘, ç„¶åç»„åˆ
        for(let i = l; i <= h; ++i) {
            const left = build(l, i - 1)
            const right = build(i + 1, h)
            for(const lt of left){
                for(const rt of right) {
                    const root = new TreeNode(i)
                    root.left = lt
                    root.right = rt
                    res.push(root)
                }
            }
        }
        return res
    }
    return build(1, n)
};
```

> æ€è·¯å³ dfsï¼Œéœ€è¦é€’å½’ï¼Œç¡®å®šé€’å½’å‡½æ•°å®šä¹‰ï¼Œæ ¹æ®åŒºé—´ç¡®å®š base caseï¼Œæ ¹æ®é¢˜ç›®ï¼Œç©·ä¸¾éå†ï¼Œéœ€è¦çŸ¥é“å­æ ‘ç„¶åç»„åˆï¼Œæ‰€ä»¥åœ¨ååºä½ç½®è¿›è¡Œç»„åˆï¼Œæœ€ååœ¨èŠ‚ç‚¹å¤„è¿”å› resï¼Œè¿™ä¹ˆçœ‹å…¶å®æ˜¯ä¸ªå›æº¯~ã€‚

## æ¨èé˜…è¯»

- [Pascal's Triangle](https://www.mathsisfun.com/pascals-triangle.html)
