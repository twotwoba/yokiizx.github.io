---
title: 'åŠ¨æ€è§„åˆ’'
date: 2022-10-12T09:31:28+08:00
tags: [algorithm, dynamic pogramming]
---

åŠ¨æ€è§„åˆ’æ˜¯ç®—æ³•ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„ä¸œè¥¿ï¼Œåœ¨æˆ‘çœ‹æ¥å®ƒçš„æ ¸å¿ƒå°±æ˜¯æ¨ç†ï¼Œç”±è¡¨è±¡æ‰¾åˆ°å†…åœ¨ï¼Œå†ç”±å°æ¨ç†è‡³ç»“æœã€‚

## ä¸‰è¦ç´ ï¼š

- é‡å å­é—®é¢˜
- æœ€ä¼˜å­ç»“æ„
- çŠ¶æ€è½¬ç§»æ–¹ç¨‹

ä»¥ä¸Šä¸‰ç‚¹ï¼Œå•æ˜¯è¯´æ€•æ˜¯ä¸èƒ½å¾ˆå¥½çš„ç†è§£ï¼Œåšäº†ä¸€äº›é¢˜åå°±ä¼šæœ‰æ›´å¥½çš„é¢†æ‚Ÿ

> å…³äºç¬¬ä¸‰ç‚¹æ˜¯åŠ¨æ€è§„åˆ’çš„çµé­‚ï¼Œè´ªå¿ƒç®—æ³•ç›¸æ¯”åŠ¨è§„å°±æ˜¯æ²¡æœ‰é€’æ¨çš„è¿‡ç¨‹ï¼Œç›´æ¥å±€éƒ¨æœ€ä¼˜

ä¸‹æ–¹æ˜¯ labuladong å¤§ä½¬ç»™å‡ºçš„åŠ¨æ€è§„åˆ’çš„ä¸¤ç§æ–¹å¼ï¼Œé‡åœ¨é€’å½’ã€é€’æ¨çš„æ€è·¯ï¼Œä¸æ˜¯ç…§æ¬æ¨¡æ¿å“¦~

```JavaScript
// æ€è·¯1: è‡ªé¡¶å‘ä¸‹çš„åŠ¨æ€è§„åˆ’ (é€’å½’)
function dp(staus1, ...other_staus) {
  for (const é€‰æ‹© of æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©) {
    // çŠ¶æ€å› ä¸ºé€‰æ‹©è€Œå‘ç”Ÿäº†æ”¹å˜
    result = æ±‚æœ€å€¼(result, dp(status1, ...otherStatus))
  }
  return result
}

// æ€è·¯2: è‡ªåº•å‘ä¸Šçš„åŠ¨æ€è§„åˆ’ (é€’æ¨)
const dp[0][0][...maybe] = base case
for(const çŠ¶æ€1 of çŠ¶æ€1ä¸­çš„æ‰€æœ‰å–å€¼) {
  for(const çŠ¶æ€2 of çŠ¶æ€2ä¸­çš„æ‰€æœ‰å–å€¼) {
    //...å…¶ä»–çŠ¶æ€forå¾ªç¯
    dp[çŠ¶æ€1][çŠ¶æ€2][...] = æ±‚æœ€å€¼(é€‰æ‹©1ï¼Œé€‰æ‹©2...)
  }
}
```

---

## äº”éƒ¨æ›²

æˆ‘ä»¬å¹³æ—¶è§£å†³é—®é¢˜ï¼Œå¯èƒ½æœ€å¸¸ç”¨çš„è¿˜æ˜¯ä¸‹é¢å‡ ä¸ªæ­¥éª¤ï¼Œ

1. ç¡®å®š dp æ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰ -- å¯»æ‰¾çŠ¶æ€ä¸é€‰æ‹©
2. dp æ•°ç»„åˆå§‹åŒ– -- ä¾æ®é¢˜ç›®æˆ–è€…è¾¹ç•Œæ¡ä»¶
3. ç¡®å®šé€’æ¨å…¬å¼ -- dp[i] ä¸ i çš„å…³ç³»å¾ˆé‡è¦
4. ç¡®å®šéå†é¡ºåº -- æ ¹æ®é€’å½’å…¬å¼æ¥åˆ¤æ–­,å¯ä»¥ç”»äºŒä½å®«æ ¼å›¾æ¥çœ‹
5. ä¸¾ä¾‹æ¨å¯¼ dp æ•°ç»„ -- ä¾¿äºé‡è§é—®é¢˜ï¼Œæ‰“å° dp éªŒè¯

> è¾…åŠ©å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š  
> æ˜ç¡®ã€ŒçŠ¶æ€ã€-> æ˜ç¡®ã€Œé€‰æ‹©ã€ -> å®šä¹‰ dp çš„å«ä¹‰(æ•°ç»„æˆ–å‡½æ•°)ï¼Œæœ€åæ€è€ƒä¸‹ base caseã€‚

## å®æˆ˜

##### [70.çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/)

```JavaScript
/**
 * @param {number} n
 * @return {number}
 */
var climbStairs = function(n) {
    // 1. å®šä¹‰ dp[i]: è¡¨ç¤ºçˆ¬åˆ°ç¬¬ i å±‚æ—¶çš„æ–¹æ³•æ•°ä¸º dp[i]ï¼Œç¬¬nå±‚ ç´¢å¼•ä¸º n + 1
    // æ‰€ä»¥åˆå§‹åŒ–ä¸º Array(n + 1)
    const dp = new Array(n + 1).fill(0)
    // 2. æ ¹æ®é¢˜ åˆå§‹åŒ–
    dp[1] = 1
    dp[2] = 2
    // 3. ç¡®å®šé€’å½’å…¬å¼, åˆ°è¾¾ç¬¬ i å±‚ï¼Œå¯ä»¥ä»i-1å±‚æˆ–i-2å±‚è¿›å…¥,
    // æ‰€ä»¥æ–¹æ³•æ•°ä¸ºè¿™ä¸¤ç§åˆ°è¾¾ç¬¬iå±‚çš„å’Œ: dp[i-1] + dp[i-2]
    // 4. ç”±äºi ä¾èµ–äº i-1,i-2 æ‰€ä»¥è¦ä»å‰å¾€åéå†
    for(let i = 3; i < dp.length; ++i) {
        dp[i] = dp[i-1] + dp[i-2]
    }
    return dp[n]
};
```

##### [746.ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/min-cost-climbing-stairs/)

```JavaScript
/**
 * @param {number[]} cost
 * @return {number}
 */
var minCostClimbingStairs = function(cost) {
    // 1. å®šä¹‰dp[i]: è¡¨ç¤ºåˆ°è¾¾ç¬¬ i å±‚èŠ±è´¹çš„æœ€å°å€¼, è¦æ±‚çš„æ˜¯ dp[cost.length]
    // æ‰€ä»¥å®šä¹‰ dp å®¹é‡ä¸º cost.length + 1
    const n = cost.length
    const dp = new Array(n + 1).fill(0)
    // 2. åˆå§‹åŒ– æ ¹æ®é¢˜ å¯ä»¥ä» 0 æˆ– 1 ä¸‹æ ‡å¼€å§‹ dp[0]=dp[1]=0
    dp[0] = 0
    dp[1] = 0
    // 3. å…¬å¼ dp[i] = min(dp[i-1] + cost[i-1], dp[i-2] + cost[i-2])
    for(let i = 2; i <= n; ++i) {
        dp[i] = Math.min(dp[i-1] + cost[i-1], dp[i-2] + cost[i-2])
    }
    return dp[n]
};
```

> ä¸Šæ–¹ä¸¤ç§é¢˜æ¯”è¾ƒï¼Œ70 é¢˜æ˜¯è¿‡ç¨‹ä¸­æ¨åˆ°ï¼Œç›¸å¯¹å®¹æ˜“ï¼›746 é¢˜æ˜¯ç›®æ ‡æå€¼æ¨å¯¼ï¼Œå¯¹äºæ–°æ‰‹è€Œè¨€è¦ç›¸å¯¹éš¾ä¸€ç‚¹ï¼Œå½“ç„¶äº†ï¼Œå¦‚æœå¯¹åŠ¨è§„æ¯ä¸ªç»†èŠ‚éƒ½çƒ‚ç†Ÿäºå¿ƒï¼Œé‚£éƒ½å¾ˆ easy å•¦~ğŸ‘»

---

##### [62.ä¸åŒè·¯å¾„](https://leetcode.cn/problems/unique-paths/)

æœ‰ç‚¹ç®—æ³•åŸºç¡€çš„äººï¼Œå›è¿‡å¤´æ¥å†çœ‹è¿™é“é¢˜ï¼Œä¹ä¸€çœ‹ï¼Œæ˜¯ä¸æ˜¯å¥½åƒè¦ç”¨å›æº¯æˆ–è€… dfsï¼Ÿ  
--è¿˜çœŸå¯ä»¥ï¼Œä½†æ˜¯ï¼æ—¶é—´å¤æ‚åº¦å°†æ˜¯æŒ‡æ•°çº§çš„ï¼(å°†ä¸€ä¸ª 2\*2 çš„çŸ©é˜µè½¬ä¸ºäºŒå‰æ ‘å°±èƒ½å¾ˆå®¹æ˜“ç†è§£äº†ï¼Œå°±æ˜¯æ±‚å¶å­èŠ‚ç‚¹çš„ä¸ªæ•°)
æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼ˆä¸ä¸€å®šå¯¹å“ˆï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼‰ï¼Œé¢˜ç›®å‡ºç»™äº†æç¤ºï¼šåªèƒ½å‘å³æˆ–å‘ä¸‹ï¼Œè¿™æ˜¯åœ¨æç¤ºæˆ‘ä»¬å¯ä»¥åšã€Œé€‰æ‹©ã€ï¼Œé‚£ä¹ˆå°±å¯ä»¥è”æƒ³åˆ°ç”¨åŠ¨æ€è§„åˆ’å»åšäº†ã€‚ğŸ‘»

```JavaScript
/**
 * @param {number} m
 * @param {number} n
 * @return {number}
 */
var uniquePaths = function(m, n) {
    // 1. å®šä¹‰dp[i][j]: è¡¨ç¤ºä»matrix[0][0]åˆ°è¾¾ matrix[i][j]çš„æ€»å…±è·¯å¾„
    const dp = Array.from(new Array(m), _ => new Array(n).fill(0))
    // 2. base case i == 0 / j == 0 çš„è¾¹ç•Œæ¡ä»¶ dp[0][j] = 1 dp[j][0] = 1
    for(let i = 0; i < m; ++i) dp[i][0] = 1
    for(let j = 0; j < n; ++j) dp[0][j] = 1
    // 3. é€’æ¨å…¬å¼ [i][j] å¯ä»¥ä» [i-1][j] æˆ–è€… [i][j-1] æ¥ ä¸¤è€…ç›¸åŠ å³å¯
    for(let i = 1; i < m; ++i) {
        for(let j = 1; j < n; ++j) {
            dp[i][j] = dp[i-1][j] + dp[i][j-1]
        }
    }
    return dp[m-1][n-1]
};
```

##### [63.ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)

```JavaScript
/**
 * @param {number[][]} obstacleGrid
 * @return {number}
 */
var uniquePathsWithObstacles = function(obstacleGrid) {
    // å®šä¹‰dp[i][j]: [0][0] åˆ° [i][j] çš„è·¯å¾„æ€»æ•°
    const m = obstacleGrid.length
    const n = obstacleGrid[0].length
    const dp = Array.from(new Array(m), _ => new Array(n).fill(0))
    // base case
    dp[0][0] = obstacleGrid[0][0] === 1 ? 0 : 1
    for(let i = 1; i < m; ++i) dp[i][0] = obstacleGrid[i][0] === 1 ? 0 : dp[i-1][0]
    for(let j = 1; j < n; ++j) dp[0][j] = obstacleGrid[0][j] === 1 ? 0 : dp[0][j-1]
    // é€’æ¨å…¬å¼: æ²¡å•¥éš¾çš„,å°±æ˜¯è€ƒè™‘ä¸€ä¸‹éšœç¢ç‰©å˜›
    // dp[i][j] = 0 || dp[i-1][j] + dp[i][j-1]
    for(let i = 1; i < m; ++i) {
        for(let j = 1; j < n; ++j) {
            dp[i][j] = obstacleGrid[i][j] === 1 ? 0 : (dp[i-1][j] + dp[i][j-1])
        }
    }
    return dp[m-1][n-1]
};
```

## æ¨èé˜…è¯»

- [Pascal's Triangle](https://www.mathsisfun.com/pascals-triangle.html)
