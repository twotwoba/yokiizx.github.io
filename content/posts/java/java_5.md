---
title: 'Java_5'
date: 2023-07-12T13:43:09+08:00
tags: []
series: [java]
categories: [study notes]
weight: 5
---

ä¹‹å‰éƒ½æ˜¯ JAVA åˆçº§çš„çŸ¥è¯†ç‚¹è®°å½•ï¼Œä¸‹é¢è¿›å…¥æ›´é«˜ä¸€å±‚çº§çš„å­¦ä¹ ã€‚

## ç±»å˜é‡/ç±»æ–¹æ³•(é™æ€å˜é‡/é™æ€æ–¹æ³•)

### é™æ€å˜é‡

å½“æŸä¸ªå˜é‡éœ€è¦è¢«`è¯¥ç±»çš„æ‰€æœ‰å®ä¾‹å¯¹è±¡å…±äº«`çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°ç±»å˜é‡äº†ã€‚æ¨èé€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚

ä¸¤ä¸ªç‚¹ï¼š

1. static é™æ€å˜é‡åœ¨ç±»åŠ è½½æ—¶ï¼Œå°±ç”Ÿæˆäº†
2. statci é™æ€å˜é‡è¢«è¯¥ç±»æ‰€æœ‰å¯¹è±¡å®ä¾‹å…±äº«

```java
class People {
    public static int count;

    private String name;
    public People(String name) {
        this.name = name;
    }
}
```

> ç±»å˜é‡çš„å†…å­˜åœ¨ JDK8 ä»¥å‰æ˜¯åœ¨æ–¹æ³•åŒºå†…ï¼ŒJDK8 åŠä»¥åæ˜¯åœ¨å †é‡Œé¢çš„ç±»å¯¹åº”çš„ class å¯¹è±¡ã€‚ï¼ˆè¿™ä¸ªå¯¹è±¡æ˜¯é€šè¿‡åå°„æœºåˆ¶ï¼Œåœ¨ç±»åŠ è½½çš„æ—¶å€™åœ¨å †å†…ç”Ÿæˆçš„ï¼‰

æ¨èé˜…è¯»ï¼š

- [Java ç±»çš„é™æ€å˜é‡å­˜æ”¾åœ¨å“ªå—å†…å­˜ä¸­](https://blog.51cto.com/u_15061941/2591637)
- [Java static å˜é‡ä¿å­˜åœ¨å“ª](https://blog.csdn.net/x_iya/article/details/81260154/)

### é™æ€æ–¹æ³•

å½“æ–¹æ³•ä¸­ä¸æ¶‰åŠåˆ°ä»»ä½•å’Œå¯¹è±¡ç›¸å…³çš„æˆå‘˜ï¼Œå°±å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•ã€‚

ç®€å•è¯´å°±æ˜¯`ä¸éœ€è¦å®ä¾‹åŒ–å¯¹è±¡å°±è®¿é—®`ï¼Œæ¯”å¦‚ `Math.xxx()` ä¹‹ç±»çš„`å·¥å…·ç±»`å°±æ˜¯å¦‚æ­¤ã€‚

```java
class MyTools {
  public static void myFn() {
    // xxx
  }
}
```

æ³¨æ„ï¼š

1. é™æ€æ–¹æ³•ä¸­æ— æ³•ä½¿ç”¨ `this/super`
2. é™æ€æ–¹æ³•åªèƒ½è®¿é—®é™æ€å±æ€§/æ–¹æ³•ï¼›æ™®é€šæ–¹æ³•åˆ™æ— é™åˆ¶

### main æ–¹æ³•

`public static void main(String[] args)`

1. main æ–¹æ³•æ˜¯ç”± jvm è™šæ‹Ÿæœºè°ƒç”¨çš„ï¼Œæ‰€ä»¥æ–¹æ³•å¿…é¡»æ˜¯ public çš„
2. jvm è™šæ‹Ÿæœºåœ¨è°ƒç”¨çš„æ—¶å€™ä¸åˆ›å»ºå¯¹è±¡ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯ static çš„
   - å› æ­¤ï¼Œmain æ–¹æ³•ä¸­ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€å˜é‡æˆ–æ–¹æ³•ï¼Œå¿…é¡»åœ¨æ–¹æ³•å†…å®ä¾‹åŒ–ä¸€ä¸ªè¯¥ç±»å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡å†å»è®¿é—®
3. `String[] args` æ˜¯æ‰§è¡Œ java å‘½ä»¤æ—¶ï¼Œä¼ é€’ç»™æ‰€è¿è¡Œçš„ç±»çš„å‚æ•°
   ```sh
   java xxx arg1 arg2 arg3 # arg1 arg2 arg3 å°±å¤„ç†ä¸º String[] args ä¼ ç»™ç±»
   ```

## ä»£ç å—(åˆå§‹åŒ–å—)

æ²¡æœ‰æ–¹æ³•åï¼Œæ²¡æœ‰è¿”å›ï¼Œæ²¡æœ‰å‚æ•°ï¼Œåªæœ‰æ–¹æ³•ä½“ï¼Œåœ¨åŠ è½½ç±»æ—¶æˆ–åˆ›å»ºå¯¹è±¡æ—¶éšå¼è°ƒç”¨ï¼š

```java
[static] {
  // ...
};
```

åœºæ™¯ï¼šå¤šä¸ªæ„é€ å™¨ä¸­æœ‰é‡å¤çš„è¯­å¥ï¼Œå°±å¯ä»¥æŠ½å–åˆ°åˆå§‹åŒ–å—ä¸­ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚

### ç»†èŠ‚

1. ç±»åŠ è½½æ—¶æœº
   - new
   - åˆ›å»ºå­ç±»å®ä¾‹å¯¹è±¡ï¼Œçˆ¶ç±»ä¹Ÿä¼šè¢«åŠ è½½
   - è®¿é—®ç±»çš„é™æ€æˆå‘˜
2. ä»£ç å—æ‰§è¡Œæ—¶æœº
   - `static` ä»£ç å—åœ¨ç±»åŠ è½½æ—¶å°±æ‰§è¡Œï¼Œæ‰€ä»¥åªä¼šæ‰§è¡Œä¸€æ¬¡
   - æ™®é€šä»£ç å—åœ¨åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œï¼Œåˆ›å»ºä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡ï¼›å¦‚æœåªæ˜¯è®¿é—®ç±»çš„é™æ€æˆå‘˜ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œ
3. å¯¹è±¡åˆ›å»ºæ—¶ï¼Œç±»ä¸­çš„ä»£ç å—å’Œå±æ€§è°ƒç”¨é¡ºåº(ä¸€ä¸ªç±»ä¸­)
   - è°ƒç”¨é™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–
   - è°ƒç”¨æ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§åˆå§‹åŒ–
   - è°ƒç”¨æ„é€ å™¨ã€‚è‹¥æ˜¯æœ‰ç»§æ‰¿å…³ç³»ï¼Œåˆ›å»ºä¸€ä¸ªå­ç±»å¯¹è±¡é¡ºåºå¦‚ä¸‹
     1. çˆ¶ç±»é™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–
     2. å­ç±»é™æ€ä»£ç å—å’Œé™æ€å±æ€§åˆå§‹åŒ–
     3. çˆ¶ç±»æ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§åˆå§‹åŒ–
     4. çˆ¶ç±»æ„é€ æ–¹æ³•
     5. å­ç±»æ™®é€šä»£ç å—å’Œæ™®é€šå±æ€§åˆå§‹åŒ–
     6. å­ç±»æ„é€ æ–¹æ³•
4. é™æ€ä»£ç å—åªèƒ½è°ƒç”¨é™æ€æˆå‘˜

## å•ä¾‹æ¨¡å¼

è¿™æ˜¯å­¦ä¹  Java è¿‡ç¨‹ä¸­çš„é‡åˆ°çš„ç¬¬ä¸€ä¸ªè®¾è®¡æ¨¡å¼ã€‚

è®°å¾—åœ¨ JS ä¸­å°±æ˜¯åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨å°±è¿”å›æ¥å®ç°ç®€å•çš„å•ä¾‹æ¨¡å¼çš„ã€‚Java ç›¸æ¯”è€Œè¨€æ›´åŠ çš„ä¸“ä¸š~

> ç®€è€Œè¨€ä¹‹ï¼šä¿è¯ç±»çš„å®ä¾‹å¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œè¯¥ç±»æä¾›ä¸€ä¸ªè®¿é—®å¯¹è±¡å®ä¾‹çš„æ–¹æ³•

### é¥¿æ±‰å¼

1. å°†æ„é€ å™¨ç§æœ‰åŒ–
2. åœ¨ç±»å†…éƒ¨åˆ›å»ºé™æ€å¯¹è±¡å®ä¾‹
3. æš´éœ²é™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è®¿é—®åœ¨ç±»å†…éƒ¨åˆ›å»ºçš„å¯¹è±¡å®ä¾‹

```java
class Wife {
    public String name;
    private Wife(String name) { // ç§æœ‰åŒ–æ„é€ å™¨ï¼Œæ–¹å¼é€šè¿‡newè®¿é—®
        this.name = name;
    }

    private static Wife wife = new Wife("hyl"); // é¥¿æ±‰ï¼Œç±»åŠ è½½æ—¶å°±ç€æ€¥çš„åˆ›å»ºå‡ºå®ä¾‹äº†
    public static Wife getInstance() { // å› ä¸ºä¸èƒ½é€šè¿‡newè®¿é—®,æ‰€ä»¥å¾—ä½¿ç”¨é™æ€æ–¹æ³•
        return wife;
    }
}
```

`java.lang.Runtime` å°±æ˜¯ç»å…¸çš„é¥¿æ±‰å•ä¾‹ã€‚

### æ‡’æ±‰å¼

é¥¿æ±‰å¼åœ¨ç´¯åŠ è½½æ—¶åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å¯èƒ½å‹æ ¹æ²¡æœ‰ç”¨åˆ°ï¼Œé€ æˆäº†èµ„æºæµªè´¹ï¼Œæ‰€ä»¥å°±éœ€è¦æ‡’æ±‰å¼çš„å•ä¾‹æ¨¡å¼ï¼Œåœ¨ä½¿ç”¨æ‰åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚

```java
class Son {
    public String name;
    private Son(String name) {
        this.name = name;
    }

    private static Son son;
    public static Son getInstance() {
        if (son == null) {
            son = new Son("my-son");
        }
        return son;
    }
}
```

çœ‹ç€èŠ±é‡Œèƒ¡å“¨ï¼Œå…¶å®è¿™å°±å’Œ js çš„é˜²æŠ–èŠ‚æµæ˜¯å¦å…ˆæ‰§è¡Œä¸€æ¬¡æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™~so easyğŸ‘»

> But! æ‡’æ±‰å¼å­˜åœ¨çº¿ç¨‹å®‰å…¨ï¼Œæ¯”å¦‚åŒæ—¶ä¸‰ä¸ªçº¿ç¨‹è¿›å…¥å°±ä¼šåˆ›å»ºä¸‰ä¸ªå¯¹è±¡å®ä¾‹äº†ï¼Œç ´åäº†å•ä¾‹æ¨¡å¼ã€‚æ€ä¹ˆè§£å†³ï¼ŸTODO

## final

1. ä¿®é¥°ç±»ï¼Œç¦æ­¢ç±»è¢«ç»§æ‰¿
2. ä¿®é¥°æ–¹æ³•ï¼Œç¦æ­¢æ–¹æ³•è¢«é‡å†™ï¼Œä½†æ˜¯å¯ä»¥ç»§æ‰¿
3. ä¿®é¥°æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡ï¼Œåˆ™å˜é‡ä¸èƒ½è¢«ä¿®æ”¹

ç»†èŠ‚ï¼š

1. ä¸ JS ä¸­çš„ const ç±»ä¼¼ï¼Œå£°æ˜æ—¶å°±å¾—èµ‹åˆå§‹åŒ–å€¼ï¼Œå˜é‡åå½¢å¼ä¸€èˆ¬ä¸ºï¼š`xx_xx_xx`
2. èµ‹åˆå§‹åŒ–å€¼çš„ä½ç½®å¯ä»¥æ˜¯:
   - ç›´æ¥å®šä¹‰
   - ä»£ç å—
   - æ„é€ å™¨
3. ç‰¹åˆ«ï¼Œå¦‚æœä¿®é¥°çš„æ˜¯é™æ€å±æ€§ï¼Œåˆ™ä¸èƒ½åœ¨æ„é€ å™¨ä¸­èµ‹å€¼
4. ä¸€èˆ¬ï¼Œä¸€ä¸ªç±»å·²ç»æ˜¯ final ç±»äº†ï¼Œåˆ™æ²¡å¿…è¦æŠŠæ–¹æ³•å†ä¿®é¥°æˆ final
5. final å’Œ static å¾€å¾€æ­é…ä½¿ç”¨ï¼Œæ•ˆç‡æ›´é«˜ï¼Œåº•å±‚ç¼–è¯‘å™¨åšäº†ä¼˜åŒ–å¤„ç†ï¼Œæ¯”å¦‚è®¿é—®åŒæ—¶ final static ä¿®é¥°çš„å±æ€§ï¼Œä¸ä¼šå¯¼è‡´ç±»çš„åŠ è½½
6. åŒ…è£…ç±»ï¼ˆIntegerã€Doubleã€Booleanï¼‰éƒ½æ˜¯ final ç±»ï¼ŒString ä¹Ÿæ˜¯ final ç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿~

## æŠ½è±¡ç±»

çˆ¶ç±»ä¸­éœ€è¦å£°æ˜ä½†æ˜¯åˆä¸ç¡®å®šå¦‚ä½•å®ç°ï¼Œå¾€å¾€éœ€è¦å­ç±»å»é‡å†™çš„æ–¹æ³•ï¼Œå¯ä»¥å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œè¿™ä¸ªç±»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚

å…³é”®å­—: `abstract`ï¼Œåªèƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•ã€‚

```java
abstract class Animal {
    public abstract void eat(); // ä¸èƒ½æœ‰ {}
}
```

æ³¨æ„ï¼š

- æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–
- ç»§æ‰¿äº†æŠ½è±¡ç±»çš„ç±»å¿…é¡»é‡å†™æŠ½è±¡ç±»çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œé™¤éè¿™ä¸ªå­ç±»ä¹Ÿä¸ºæŠ½è±¡ç±»
- æŠ½è±¡æ–¹æ³•ä¸èƒ½ä½¿ç”¨ private, final, static å…³é”®å­—ï¼Œå› ä¸ºå’Œé‡å†™ç›¸è¿èƒŒ

### æ¨¡æ¿æ¨¡å¼

å½“å¤šä¸ªç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•æ—¶ï¼Œå¯ä»¥è€ƒè™‘æå–åˆ°ä¸€ä¸ªçˆ¶ç±»æŠ½è±¡ç±»ä¸­ã€‚å°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ï¼š

- ç›¸åŒçš„æ–¹æ³•ä¸€èˆ¬ä½¿ç”¨ `final` å…³é”®å­—ä¿®é¥°
- ä¸åŒçš„æ–¹æ³•è®¾ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œéœ€è¦å­ç±»å»é‡å†™

> [èœé¸Ÿæ•™ç¨‹çš„ç®€å• demo](https://www.runoob.com/design-pattern/template-pattern.html)
